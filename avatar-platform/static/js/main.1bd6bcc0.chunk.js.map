{"version":3,"sources":["services/canvas.js","services/backend.js","reducers/preview.js","components/spinner/Spinner.js","components/preview/Preview.js","components/download-success-modal/DownloadSuccessModal.js","components/social-login/SocialLogin.js","components/download-modal/DownloadModal.js","components/button-actions/ButtonActions.js","components/face-part-container/FacePartContainer.js","components/color-picker/pipette.svg","components/color-picker/ColorPicker.js","face-parts/Base.js","components/main-tabs/MainTabs.js","components/app-header/AppHeader.js","components/app-menu/AppMenu.js","components/avatar-page/AvatarPage.js","components/select-set/SelectSet.js","App.js","serviceWorker.js","index.js"],"names":["canvas","document","createElement","context","getContext","IMG_WIDTH","IMG_HEIGHT","width","height","changeImageColor","url","color","Promise","resolve","reject","img","src","onload","clearRect","drawImage","alpha","imageSmoothingQuality","globalCompositeOperation","fillStyle","fillRect","colorize","toDataURL","API_URL","process","console","log","axiosInstance","axios","create","headers","Content-Type","initialState","Object","defineProperty","profile","partsDataOriginal","partsData","PARTS","PARTS_WITH_COLORS","partSprites","current","previewIsLoading","facePartsAreLoading","savingIsLoading","sets","hiddenParts","conflicts","getSets","dispatch","type","get","then","response","payload","catch","e","saveImage","setId","getState","data","method","responseType","params","backend","saveAs","Blob","Math","floor","random","changeColor","part","partsToInheritColor","forEach","pd","index","inheritColorFrom","_id","push","images","el","value","inheritPart","getCurrentValues","createSelector","state","entries","values","_loop","i","key","find","zIndex","length","sort","a","b","map","v","getPreviewIsLoading","isLoading","reducer","handlers","arguments","undefined","action","hasOwnProperty","createReducer","SELECT_PART","_ref","_ref$payload","randomized","newCurrent","assign","partId","conflictedPart","objectSpread","SET_COLOR_START","_ref2","newPart","SET_COLOR","_ref3","_ref3$payload","newPartImages","concat","LOGIN_SUCCESS","_ref4","SET_PREVIEW_IS_LOADING","_ref5","GET_SETS_SUCCESS","_ref6","LOAD_FACE_PARTS_REQUEST","_ref7","LOAD_FACE_PARTS_SUCCESS","_ref8","newPartsData","cloneDeep","partIndex","unshift","conflictsWith","showOnStart","keys","pickBy","colors","SAVE_IMAGE_REQUEST","SAVE_IMAGE_SUCCESS","Spinner","_ref$width","_ref$height","react_default","className","style","connect","items","classNames","item","backgroundImage","alt","DownloadSuccessModal","props","lib_default","isOpen","onRequestClose","closeModal","imgBase64","Modal","setAppElement","login","body","post","name","google_login","clientId","buttonText","onSuccess","res","profileObj","onFailure","err","facebook_login_render_props_default","appId","autoLoad","callback","fields","render","renderProps","onClick","ti_index_esm","useEffect","onDownload","social_login_SocialLogin","randomizeFace","partsShuffled","reduce","accum","includes","r","toString","padStart","g","_useState","useState","_useState2","slicedToArray","modalSuccessIsOpen","setModalSuccessIsOpen","_useState3","_useState4","modalDownloadIsOpen","setModalDownloadIsOpen","_useState5","_useState6","setImgBase64","disabled","index_esm","download_modal_DownloadModal","reader","FileReader","readAsDataURL","onloadend","base64data","result","FacePartContainer","id","active","selectPart","_extends","target","source","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","pipette_ref2","d","pipette_ref3","pipette_ref4","pipette_ref5","pipette_ref6","pipette_ref7","pipette_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","pipette_SvgPipette","svgRef","x","y","viewBox","enableBackground","xmlSpace","ref","forwardRef","__webpack_require__","p","showPicker","setShowPicker","currentColor","setCurrentColor","onBackgroundClick","window","addEventListener","removeEventListener","stopPropagation","backgroundColor","background","react_color_lib","disableAlpha","onChange","hex","noColors","color_picker_ColorPicker","esm","defaultIndex","title","face_parts_Base","set","match","react_router_dom","to","preventDefault","BurgerMenu","right","href","loadFaceParts","history","app_menu_AppMenu","app_header_AppHeader","preview_Preview","button_actions_ButtonActions","main_tabs_MainTabs","App","basename","react_router","path","exact","component","AvatarPage","React","Component","Boolean","location","hostname","store","createStore","composeWithDevTools","applyMiddleware","ReduxThunk","ReactDOM","es","App_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1bd6bcc0.chunk.js","sourcesContent":["const canvas = document.createElement(\"canvas\"), // shared instance\r\n  context = canvas.getContext(\"2d\");\r\n\r\nconst IMG_WIDTH = 600;\r\nconst IMG_HEIGHT = 600;\r\n\r\n// set image pixel size and hex color\r\ncanvas.width = IMG_WIDTH;\r\ncanvas.height = IMG_HEIGHT;\r\n\r\nexport const changeImageColor = (url, color) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n    let img = document.createElement('img');\r\n    img.src = url;\r\n    img.onload = () => {\r\n\r\n      context.clearRect(0, 0, canvas.width, canvas.height);\r\n      context.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n      colorize(color, 1);\r\n\r\n      context.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n      resolve(canvas.toDataURL(\"image/png\", 0.7));\r\n    }\r\n  })\r\n\r\n\r\n  function colorize(color, alpha) {\r\n    context.imageSmoothingQuality = \"medium\";\r\n    context.globalCompositeOperation = \"source-atop\";\r\n    context.fillStyle = color;\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n    context.globalCompositeOperation = \"multiply\";\r\n  }\r\n}\r\n\r\nexport const createSprite = (base64Urls) => {\r\n  const spriteCanvas = document.createElement(\"canvas\"),\r\n    ctx = spriteCanvas.getContext(\"2d\");\r\n  spriteCanvas.width = base64Urls.length * IMG_WIDTH;\r\n  spriteCanvas.height = IMG_HEIGHT;\r\n\r\n  return new Promise((resolve) => {\r\n\r\n    let promisesArray = [];\r\n\r\n    for (let i = 0; i < base64Urls.length; i++) {\r\n      promisesArray.push(drawImg(base64Urls[i], i * IMG_WIDTH, 0));\r\n    }\r\n\r\n    Promise.all(promisesArray).then(() => {\r\n      resolve(spriteCanvas.toDataURL(\"image/png\", 1));\r\n    })\r\n  });\r\n\r\n  function drawImg(url, x, y) {\r\n    return new Promise((resolve) => {\r\n      let img = document.createElement('img');\r\n      img.src = url;\r\n      img.onload = () => {\r\n        ctx.drawImage(img, x, y, IMG_WIDTH, IMG_HEIGHT);\r\n        resolve();\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/';\r\nconsole.log(API_URL);\r\n\r\nconst axiosInstance = axios.create({\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\nexport function getFaceParts(setId) {\r\n  return axiosInstance.get(API_URL + 'face-parts/' + setId);\r\n}\r\n\r\nexport function getSets() {\r\n  return axiosInstance.get(API_URL + 'face-parts/sets');\r\n}\r\n\r\nexport function login(body) {\r\n  return axiosInstance.post(API_URL + 'face-parts/login', body);\r\n}\r\n\r\nexport function saveImage(setId, data) {\r\n  return axios({\r\n    url: API_URL + 'save-image/' + setId,\r\n    method: 'GET',\r\n    responseType: 'blob', // important,\r\n    params: { data }\r\n  })\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { changeImageColor, createSprite } from '../services/canvas'\r\nimport * as backend from '../services/backend'\r\nimport { cloneDeep, pickBy } from 'lodash'\r\nimport { saveAs } from 'file-saver';\r\n\r\nconst TRANSPARENT_PIXEL = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII='\r\nconst TRANSPARENT_ID = 'transparent'\r\n\r\nconst initialState = {\r\n  profile: null,\r\n  partsDataOriginal: {},\r\n  partsData: {},\r\n  PARTS: [],\r\n  PARTS_WITH_COLORS: [],\r\n  partSprites: [],\r\n  current: {},\r\n  previewIsLoading: false,\r\n  facePartsAreLoading: true,\r\n  savingIsLoading: false,\r\n  sets: [],\r\n  hiddenParts: [], // for conflicts\r\n  conflicts: {},\r\n  current: {}\r\n  // current: {\r\n  //   head: {\r\n  //     _id: null,\r\n  //     color: null\r\n  //   }\r\n  // }\r\n};\r\n\r\nexport function createReducer(initialState, handlers) {\r\n  return function reducer(state = initialState, action) {\r\n    if (handlers.hasOwnProperty(action.type)) {\r\n      return handlers[action.type](state, action)\r\n    } else {\r\n      return state\r\n    }\r\n  }\r\n}\r\n\r\n// ACTIONS\r\n\r\nexport const loadFaceParts = (setId) => (dispatch) => {\r\n  dispatch({ type: 'LOAD_FACE_PARTS_REQUEST' });\r\n  backend.getFaceParts(setId).then(response => {\r\n    dispatch({ type: 'LOAD_FACE_PARTS_SUCCESS', payload: response });\r\n  }).catch(e => {\r\n    dispatch({ type: 'LOAD_FACE_PARTS_FAILURE', payload: e });\r\n  })\r\n}\r\n\r\nexport const getSets = () => (dispatch) => {\r\n  dispatch({ type: 'GET_SETS_REQUEST' });\r\n  return new Promise(resolve => {\r\n    backend.getSets().then(response => {\r\n      dispatch({ type: 'GET_SETS_SUCCESS', payload: response });\r\n      resolve(response);\r\n    }).catch(e => {\r\n      dispatch({ type: 'GET_SETS_FAILURE', payload: e });\r\n    })\r\n  })\r\n}\r\n\r\nexport const login = (body) => (dispatch) => {\r\n  dispatch({ type: 'LOGIN_REQUEST' });\r\n  backend.login(body).then(response => {\r\n    dispatch({ type: 'LOGIN_SUCCESS', payload: response });\r\n  }).catch(e => {\r\n    dispatch({ type: 'LOGIN_FAILURE', payload: e });\r\n  })\r\n}\r\n\r\nexport const saveImage = (setId) => (dispatch, getState) => {\r\n  const data = getState().current;\r\n\r\n  // createSprite(getState().partsData[2].images.map(img => img.value)).then(res => {\r\n  //   console.log(res);\r\n  // })\r\n\r\n  dispatch({ type: 'SAVE_IMAGE_REQUEST' });\r\n  return new Promise((resolve, reject) =>  {\r\n    backend.saveImage(setId, data).then(response => {\r\n      saveAs(new Blob([response.data]), 'image' + Math.floor(Math.random() * 100000 + 1) + '.png');\r\n      dispatch({ type: 'SAVE_IMAGE_SUCCESS', payload: response });\r\n      resolve(response);\r\n    }).catch(e => {\r\n      dispatch({ type: 'SAVE_IMAGE_FAILURE', payload: e });\r\n      reject(e);\r\n    })\r\n  });\r\n}\r\n\r\nexport const changeColor = (part, color) => (dispatch, getState) => {\r\n  let partsToInheritColor = [];\r\n  getState().partsDataOriginal.forEach((pd, index) => {\r\n    if (pd.inheritColorFrom === getState().partsDataOriginal[part]._id) {\r\n      partsToInheritColor.push(index);\r\n    }\r\n  })\r\n  getState().partsDataOriginal[part].images.forEach(el => {\r\n    changeImageColor(el.value, color).then((value) => {\r\n      dispatch({ type: 'SET_COLOR', payload: { _id: el._id, part, value, color } })\r\n    })\r\n  })\r\n  partsToInheritColor.forEach(inheritPart => {\r\n    getState().partsDataOriginal[inheritPart].images.forEach(el => {\r\n      changeImageColor(el.value, color).then((value) => {\r\n        dispatch({ type: 'SET_COLOR', payload: { _id: el._id, part: inheritPart, value, color } })\r\n      })\r\n    })\r\n  })\r\n}\r\n\r\n\r\nexport const selectPart = (part, _id) => (dispatch, getState) => {\r\n\r\n}\r\n\r\nexport const randomizeFace = () => (dispatch, getState) => {\r\n\r\n  let partsShuffled = [].concat(getState().PARTS).sort(() => Math.random() - 0.5);\r\n  let conflicts = {}\r\n  partsShuffled.forEach(part => {\r\n    if (!getState().partsData[part].images.length) return\r\n    let conflictedArray = Object.values(conflicts).reduce((accum, value) => accum.concat(value), []);\r\n    if (conflictedArray.includes(getState().partsData[part]._id)) {\r\n      return dispatch({type: 'SELECT_PART', payload: {_id: TRANSPARENT_ID, part, randomized: true }})\r\n    };\r\n\r\n    if (getState().PARTS_WITH_COLORS.includes(part)) {\r\n      let r = Math.floor(Math.random() * 255).toString(16).padStart(2, '0')\r\n      let g = Math.floor(Math.random() * 255).toString(16).padStart(2, '0')\r\n      let b = Math.floor(Math.random() * 255).toString(16).padStart(2, '0')\r\n      dispatch(changeColor(part, '#' + r + g + b))\r\n      dispatch({type: 'SET_COLOR_START', payload: { part }})\r\n    }\r\n\r\n    let index = Math.floor(Math.random() * (getState().partsData[part].images.length - 1)) + 1;\r\n    let _id = getState().partsData[part].images[index]._id;\r\n    dispatch({type: 'SELECT_PART', payload: {_id, part, randomized: true }})\r\n    conflicts[part] = getState().conflicts[getState().partsData[part]._id];\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n// SELECTORS\r\n//\r\nexport const getCurrentValues = createSelector(\r\n  state => state.partsData,\r\n  state => state.current,\r\n  (partsData, current) => {\r\n    let entries = Object.entries(partsData);\r\n    let values = [];\r\n    for (let i = 0; i < entries.length; i ++) {\r\n      let key = entries[i][0];\r\n      if (!current[key]) continue;\r\n      let value = entries[i][1].images.find(el => el._id == current[key]._id)\r\n      values.push({\r\n        zIndex: entries[i][1].zIndex,\r\n        value: value\r\n      });\r\n    }\r\n    values = values.sort((a, b) => a.zIndex - b.zIndex)\r\n    values = values.map(v => v.value && v.value.value)\r\n    return values\r\n  }\r\n)\r\n\r\nexport const getPreviewIsLoading = createSelector(state => state.partsData, partsData => {\r\n  if (!partsData) return true;\r\n  for (let index in partsData) {\r\n    for (let i = 0; i < partsData[index].images.length; i++) {\r\n      if (partsData[index].images[i].isLoading) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n});\r\n\r\n// REDUCER\r\n\r\nconst reducer = createReducer(initialState, {\r\n  SELECT_PART: function(state, { payload: { _id, part, randomized }}) {\r\n    let newCurrent = Object.assign({}, state.current);\r\n\r\n    let partId = state.partsData[part]._id;\r\n\r\n    if (!randomized && state.conflicts[partId]) {\r\n      state.conflicts[partId].forEach(conflictedPart => {\r\n        for (let index in state.partsData) {\r\n          if (state.partsData[index]._id === conflictedPart) {\r\n            newCurrent[index] && (newCurrent[index]._id = TRANSPARENT_ID);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return {\r\n      ...state,\r\n      current: {\r\n        ...newCurrent,\r\n        [part]: {\r\n          ...state.current[part],\r\n          _id: _id,\r\n        }\r\n      }\r\n    }\r\n  },\r\n  SET_COLOR_START: function(state, { payload: { part }}) {\r\n    let newPart = Object.assign({}, state.partsData[part]);\r\n    newPart.images && newPart.images.forEach(img => img.isLoading = true);\r\n    return {\r\n      ...state,\r\n      partsData: {\r\n        ...state.partsData,\r\n        [part]: newPart\r\n      }\r\n    }\r\n  },\r\n  SET_COLOR: function(state, { payload: {_id, part, value, color }}) {\r\n    let newPartImages = [].concat(state.partsData[part].images)\r\n    newPartImages.find(el => el._id === _id).value = value;\r\n    newPartImages.find(el => el._id === _id).isLoading = false;\r\n    return {\r\n      ...state,\r\n      partsData: {\r\n        ...state.partsData,\r\n        [part]: {\r\n          ...state.partsData[part],\r\n          images: newPartImages\r\n        }\r\n      },\r\n      current: {\r\n        ...state.current,\r\n        [part]: {\r\n          ...state.current[part],\r\n          color\r\n        }\r\n      }\r\n    }\r\n  },\r\n  LOGIN_SUCCESS: function(state, { payload }) {\r\n    return {\r\n      ...state,\r\n      profile: payload.data.profile\r\n    }\r\n  },\r\n  SET_PREVIEW_IS_LOADING: function(state, { value }) {\r\n    return {\r\n      ...state,\r\n      previewIsLoading: value\r\n    }\r\n  },\r\n  GET_SETS_SUCCESS: function(state, { payload }) {\r\n    return {\r\n      ...state,\r\n      sets: payload.data\r\n    }\r\n  },\r\n  LOAD_FACE_PARTS_REQUEST: function(state, { payload }) {\r\n    return {\r\n      ...state,\r\n      current: {},\r\n      partsDataOriginal: {},\r\n      partsData: {},\r\n      PARTS: [],\r\n      PARTS_WITH_COLORS: [],\r\n      facePartsAreLoading: true\r\n    }\r\n  },\r\n  LOAD_FACE_PARTS_SUCCESS: function(state, { payload }) {\r\n    let newPartsData =  cloneDeep(payload.data);\r\n    let newCurrent = Object.assign({}, state.current);\r\n    let conflicts = {};\r\n    newPartsData.forEach((part, partIndex) => {\r\n      part.images.unshift({\r\n        _id: TRANSPARENT_ID,\r\n        value: TRANSPARENT_PIXEL\r\n      });\r\n      part.images.forEach(img => {\r\n        img.isLoading = false;\r\n      })\r\n      if (part.conflictsWith.length) {\r\n        if (conflicts[part._id]) conflicts[part._id].concat(part.conflictsWith);\r\n        else conflicts[part._id] = part.conflictsWith;\r\n        conflicts[part._id] = part.conflictsWith;\r\n        part.conflictsWith.forEach(conflictedPart => {\r\n          if (conflicts[conflictedPart]) conflicts[conflictedPart].push(part._id);\r\n          else conflicts[conflictedPart] = [part._id];\r\n        })\r\n      }\r\n      // set current\r\n      if (part.showOnStart) {\r\n        newCurrent[partIndex] = {\r\n          _id: part.images[1]._id\r\n        };\r\n      } else {\r\n        newCurrent[partIndex] = {\r\n          _id: TRANSPARENT_ID\r\n        };\r\n      }\r\n    })\r\n\r\n    return {\r\n      ...state,\r\n      conflicts,\r\n      partsData: newPartsData,\r\n      partsDataOriginal: cloneDeep(newPartsData),\r\n      PARTS: Object.keys(payload.data),\r\n      PARTS_WITH_COLORS: Object.keys(pickBy(payload.data, part => part.colors && part.colors.length)),\r\n      facePartsAreLoading: false,\r\n      current: newCurrent\r\n    }\r\n  },\r\n  SAVE_IMAGE_REQUEST: function(state) {\r\n    return {\r\n      ...state,\r\n      savingIsLoading: true\r\n    }\r\n  },\r\n  SAVE_IMAGE_SUCCESS: function(state) {\r\n    return {\r\n      ...state,\r\n      savingIsLoading: false\r\n    }\r\n  }\r\n})\r\n\r\nexport default reducer\r\n","import React from 'react';\r\nimport './spinner.scss'\r\n\r\nexport default function Spinner ({width = 300, height = 300}) {\r\n  return (\r\n    <div className=\"spinner\" style={{width, height}}>Loading...</div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getCurrentValues, getPreviewIsLoading } from '../../reducers/preview'\r\nimport Spinner from '../spinner'\r\nimport classNames from 'classnames'\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaLevelUpAlt } from 'react-icons/fa'\r\n\r\nimport './preview.scss'\r\n\r\nfunction Preview({ items, previewIsLoading, setId }) {\r\n  return (\r\n    <div className={classNames('Preview', previewIsLoading && 'isLoading')}>\r\n\r\n      <div className=\"images\">\r\n        {\r\n          items.map((item, index) => (\r\n            <div className=\"img\" style={{backgroundImage: 'url(' + item + ')'}} key={index} alt=\"\"/>\r\n          ))\r\n        }\r\n      </div>\r\n      <Spinner />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    items: getCurrentValues(state),\r\n    current: state.current,\r\n    previewIsLoading: state.facePartsAreLoading || getPreviewIsLoading(state) || state.savingIsLoading\r\n  })\r\n)(Preview)\r\n","import React, {useEffect} from 'react';\r\nimport './download-success-modal.scss'\r\nimport Modal from 'react-modal';\r\n\r\nModal.setAppElement('#root')\r\n\r\nexport default function DownloadSuccessModal(props) {\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={props.isOpen}\r\n      onRequestClose={props.closeModal}\r\n      className=\"download-success-modal\"\r\n    >\r\n      <h4>Great! Your download has been successful!</h4>\r\n      <img className=\"modal-image\" src={props.imgBase64} />\r\n      <h6>If you want to download images in high quality, you can <strong>become premium</strong></h6>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getSets } from '../../reducers/preview'\r\nimport './social-login.scss'\r\nimport { Link } from \"react-router-dom\";\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\nimport { TiSocialFacebookCircular } from 'react-icons/ti/';\r\nimport { login } from '../../reducers/preview';\r\n\r\n\r\n\r\nfunction SocialLogin(props) {\r\n\r\n  const onSuccessGoogleLogin = (res) => {\r\n    //console.log(res.profileObj);\r\n    props.login({ profile: res.profileObj });\r\n  }\r\n\r\n  const onSuccessFacebookLogin = (res) => {\r\n    props.login({ profile: res });\r\n  }\r\n\r\n  return (\r\n    <div className=\"SocialLogin\">\r\n\r\n      {props.profile ? (\r\n        <div>\r\n          You are logged in as {props.profile.name}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <p>Sign in with a social network:</p>\r\n          {/*<button onClick={onSuccessGoogleLogin}>Add</button>*/}\r\n          <GoogleLogin\r\n            clientId=\"546998968320-0cn7qut7aklej8akfljup6hi9a7najba.apps.googleusercontent.com\"\r\n            // autoLoad={true}\r\n            buttonText=\"Google\"\r\n            onSuccess={onSuccessGoogleLogin}\r\n            onFailure={(err) => console.log(err)}\r\n          />\r\n          <FacebookLogin\r\n            appId=\"375214849866140\"\r\n            autoLoad={true}\r\n            callback={onSuccessFacebookLogin}\r\n            fields=\"name,email,picture\"\r\n            render={renderProps => (\r\n              <button className=\"fb-button\" onClick={renderProps.onClick}>\r\n                <TiSocialFacebookCircular />\r\n                Facebook\r\n              </button>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    profile: state.profile\r\n  }),\r\n  {\r\n    login\r\n  }\r\n)(SocialLogin)\r\n","import React, {useEffect} from 'react';\r\nimport './download-modal.scss'\r\nimport Modal from 'react-modal';\r\nimport SocialLogin from '../social-login';\r\nimport { connect } from 'react-redux'\r\nimport Spinner from '../spinner';\r\n\r\nModal.setAppElement('#root')\r\n\r\nfunction DownloadModal(props) {\r\n\r\n  useEffect(() => {\r\n    if (props.profile && props.isOpen) {\r\n      props.onDownload();\r\n    }\r\n  }, [props.profile, props.isOpen])\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={props.isOpen}\r\n      onRequestClose={props.closeModal}\r\n      className=\"download-modal\"\r\n    >\r\n      {props.profile ?\r\n        (\r\n          <div>\r\n            <div>\r\n              You are logged in as {props.profile.name}\r\n            </div>\r\n            <p>\r\n              Downloading...\r\n              <div className=\"spinner-wrapper\">\r\n                <Spinner width={100} height={100} />\r\n              </div>\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h4>Please sign in to download!</h4>\r\n            <SocialLogin/>\r\n          </div>\r\n        )\r\n      }\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    profile: state.profile\r\n  })\r\n)(DownloadModal)\r\n","import React, {useState} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getPreviewIsLoading, randomizeFace, saveImage } from '../../reducers/preview'\r\nimport './button-actions.scss'\r\nimport { FaDownload, FaRandom } from 'react-icons/fa'\r\n\r\nimport DownloadSuccessModal from '../download-success-modal'\r\nimport DownloadModal from '../download-modal'\r\n\r\n\r\nfunction ButtonActions(props) {\r\n\r\n  let [modalSuccessIsOpen, setModalSuccessIsOpen] = useState(false);\r\n  let [modalDownloadIsOpen, setModalDownloadIsOpen] = useState(false);\r\n  let [imgBase64, setImgBase64] = useState(null);\r\n\r\n  function onDownload() {\r\n    props.saveImage(props.setId).then((response) => {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(response.data);\r\n      reader.onloadend = function() {\r\n        let base64data = reader.result;\r\n        setImgBase64(base64data);\r\n        setModalSuccessIsOpen(true);\r\n        setModalDownloadIsOpen(false);\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"ButtonActions\">\r\n      <button\r\n        className=\"btn btn-primary btn-wide mb-2\"\r\n        onClick={props.randomizeFace}\r\n        disabled={props.savingIsLoading || props.previewIsLoading}\r\n      >\r\n        <FaRandom />&nbsp;\r\n        <span className=\"button-text\">Random</span>\r\n      </button>\r\n      <br/>\r\n      <button\r\n        className=\"btn btn-primary btn-wide\"\r\n        onClick={() => setModalDownloadIsOpen(true)}\r\n        disabled={props.savingIsLoading || props.previewIsLoading}\r\n      >\r\n        <FaDownload />&nbsp;\r\n        <span className=\"button-text\">Download</span>\r\n      </button>\r\n      <DownloadModal\r\n        isOpen={modalDownloadIsOpen}\r\n        closeModal={() => setModalDownloadIsOpen(false)}\r\n        onDownload={onDownload}\r\n      />\r\n      <DownloadSuccessModal\r\n        isOpen={modalSuccessIsOpen}\r\n        closeModal={() => setModalSuccessIsOpen(false)}\r\n        imgBase64={imgBase64}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    savingIsLoading: state.savingIsLoading,\r\n    previewIsLoading: state.facePartsAreLoading || getPreviewIsLoading(state)\r\n  }),\r\n  dispatch => ({\r\n    randomizeFace: () => dispatch(randomizeFace()),\r\n    saveImage: (setId) => dispatch(saveImage(setId))\r\n  })\r\n)(ButtonActions)\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './face-part-container.scss'\r\nimport classNames from 'classnames'\r\n\r\nexport default function FacePartContainer ({id, active, part, url, selectPart}) {\r\n  return (\r\n    <div className={classNames('FacePartContainer', active && 'active')} onClick={() => selectPart(id, part)}>\r\n      <img src={url} alt=\"\"/>\r\n    </div>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M489.265,22.762C474.586,8.083,455.071,0,434.313,0s-40.273,8.083-54.951,22.762L221.761,180.361 c-9.158-4.089-20.268-2.402-27.783,5.111c-9.733,9.731-9.733,25.511,0,35.244l8.448,8.448L54.402,377.189 c-2.564,2.564-4.537,5.656-5.782,9.06l-15.674,42.847c-7.766,1.691-14.9,5.556-20.652,11.309 c-7.925,7.923-12.288,18.457-12.288,29.663c0,11.203,4.363,21.738,12.288,29.663c8.178,8.176,18.921,12.265,29.662,12.265 s21.484-4.089,29.662-12.265c0-0.002,0.002-0.002,0.002-0.003c5.752-5.754,9.618-12.886,11.309-20.65l42.847-15.674 c3.404-1.246,6.496-3.22,9.06-5.782l148.026-148.026l8.448,8.448c4.866,4.866,11.245,7.3,17.621,7.3 c6.377,0,12.757-2.434,17.621-7.3c7.515-7.515,9.201-18.625,5.111-27.783l157.601-157.599 C519.565,102.365,519.565,53.063,489.265,22.762z M41.957,477.967c-2.08-0.002-4.115-0.846-5.582-2.313 c-1.47-1.47-2.313-3.504-2.313-5.582s0.842-4.112,2.311-5.581l11.165,11.163C46.069,477.125,44.033,477.967,41.957,477.967z  M47.537,475.653l-11.163-11.165c1.539-1.538,3.559-2.308,5.579-2.308c2.022,0,4.044,0.771,5.584,2.309 c1.469,1.47,2.311,3.504,2.311,5.582S49.006,474.186,47.537,475.653z M103.481,418.489l-15.681,5.737l5.737-15.681 l144.133-144.133l9.944,9.944L103.481,418.489z M454.019,97.422L297.594,253.847l-39.414-39.414L414.607,58.008 c5.263-5.265,12.261-8.164,19.706-8.164c7.445,0,14.443,2.899,19.706,8.163C464.887,68.873,464.887,86.555,454.019,97.422z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgPipette = function SvgPipette(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 511.997 511.997\",\n    style: {\n      enableBackground: \"new 0 0 511.997 511.997\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPipette, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pipette.1fc4aeaa.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { changeColor } from '../../reducers/preview'\r\nimport './color-picker.scss'\r\nimport { ChromePicker } from 'react-color'\r\nimport { ReactComponent as Pipette } from './pipette.svg'\r\nimport { FaEyeDropper } from 'react-icons/fa'\r\n\r\n\r\nfunction ColorPicker({ part, changeColor, partsData, current }) {\r\n  const [showPicker, setShowPicker] = useState(false)\r\n  const [currentColor, setCurrentColor] = useState((current[part] && current[part].color) || '#ffffff');\r\n  const colors = partsData[part].colors;\r\n\r\n  const onBackgroundClick = () => {\r\n    setShowPicker(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('click', onBackgroundClick, false)\r\n    return function cleanup() {\r\n      window.removeEventListener('click', onBackgroundClick)\r\n    }\r\n  }, [])\r\n\r\n  if (!colors || !colors.length) return null;\r\n\r\n  return (\r\n    <div className=\"ColorPicker\" onClick={e => e.stopPropagation()}>\r\n      <div\r\n        className=\"color color-pipette\"\r\n        onClick={() => {\r\n          setShowPicker(!showPicker)\r\n        }}\r\n        style={{backgroundColor: (current[part] && current[part].color) || currentColor}}\r\n      >\r\n        <FaEyeDropper/>\r\n      </div>\r\n      {colors.map(color => (\r\n       <div className=\"color\"\r\n            style={{background: color}}\r\n            key={color}\r\n            onClick={() => changeColor(part, color)}>\r\n       </div>\r\n      ))}\r\n      { showPicker &&\r\n        <ChromePicker\r\n          className=\"chromePicker\"\r\n          disableAlpha={true}\r\n          color={(current[part] && current[part].color) || currentColor}\r\n\r\n          onChange={(color) => {\r\n            setCurrentColor(color.hex);\r\n            changeColor(part, color.hex);\r\n          }}\r\n        />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    partsData: state.partsData,\r\n    current: state.current\r\n  }),\r\n  dispatch => ({\r\n    changeColor: (part, color) => dispatch(changeColor(part, color)),\r\n  })\r\n)(ColorPicker)\r\n","import React from 'react';\r\nimport FacePartContainer from '../components/face-part-container'\r\nimport { connect } from 'react-redux'\r\nimport { changeColor } from '../reducers/preview'\r\nimport ColorPicker from '../components/color-picker'\r\n\r\nfunction Base({items, current, changeColor, selectPart, part, noColors}) {\r\n  if (!(items && items[part] && items[part].images && items[part].images.length)) return 'No items on this layer'\r\n  return (\r\n    <div>\r\n      { items[part].images.map(item => (\r\n        <FacePartContainer\r\n          active={current && current[part] && (current[part]._id === item._id)}\r\n          key={item._id}\r\n          id={item._id}\r\n          part={part}\r\n          url={item.value}\r\n          selectPart={selectPart}\r\n        />\r\n      )) }\r\n      <br/>\r\n      { !items[part].inheritColorFrom && <ColorPicker part={part} /> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    items: state.partsData,\r\n    current: state.current\r\n  }),\r\n  dispatch => ({\r\n    changeColor: (part, color) => dispatch(changeColor(part, color)),\r\n    selectPart: (_id, part) => dispatch({ type: 'SELECT_PART', payload: {_id, part} })\r\n  })\r\n)(Base)\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './main-tabs.scss'\r\nimport { Tab, TabList, TabPanel, Tabs } from 'react-tabs'\r\nimport Base from '../../face-parts/Base'\r\n\r\nfunction MainTabs({ PARTS, partsData }) {\r\n  if (!PARTS || !PARTS.length) {\r\n    return <div></div>\r\n  }\r\n  return (\r\n    <div className=\"MainTabs\">\r\n      <Tabs defaultIndex={0}>\r\n        <TabList>\r\n          {PARTS.map((part, index) => (\r\n            <Tab key={index}>{partsData[part].title}</Tab>\r\n          ))}\r\n        </TabList>\r\n\r\n        {PARTS.map((part, index) => (\r\n          <TabPanel key={index}>\r\n            <Base part={part}/>\r\n          </TabPanel>\r\n        ))}\r\n\r\n      </Tabs>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    PARTS: state.PARTS,\r\n    partsData: state.partsData\r\n  })\r\n)(MainTabs)\r\n","import React, { useEffect, useState } from 'react'\r\nimport './app-header.scss'\r\nimport { FaGrinTongue } from 'react-icons/fa'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction AppHeader(props) {\r\n\r\n  return (\r\n    <div className=\"AppHeader\">\r\n      <div className=\"logo\">\r\n        <FaGrinTongue />\r\n        Avatar Maker\r\n      </div>\r\n      <ul className=\"menu-items\">\r\n        {props.sets.map((set, index) => (\r\n          <li key={index}>\r\n            { (props.match.params.setId === set._id || !props.match.params.setId && index === 0) ? (\r\n              <Link to={set._id} onClick={e => e.preventDefault()} className='disabled'>\r\n                {set.name}\r\n              </Link>\r\n            ) : (\r\n              <Link to={set._id}>\r\n                {set.name}\r\n              </Link>\r\n            ) }\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div className=\"signup-wrapper\">\r\n        <button className=\"btn btn-info btn-sm\">SIGN UP</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  })\r\n)(AppHeader)\r\n","import React, { useEffect, useState } from 'react'\r\nimport './app-menu.scss'\r\nimport { connect } from 'react-redux'\r\nimport { slide as Menu } from 'react-burger-menu'\r\n\r\n\r\nfunction AppMenu(props) {\r\n\r\n  return (\r\n    <div className=\"AppMenu\">\r\n      <Menu right width={ 250 }>\r\n        <a id=\"home\" className=\"menu-item\" href=\"\">Sign Up</a>\r\n        <a id=\"about\" className=\"menu-item\" href=\"\">Log In</a>\r\n      </Menu>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  })\r\n)(AppMenu)\r\n","import React, {useEffect} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport './avatar-page.scss'\r\n\r\nimport Preview from '../../components/preview'\r\nimport ButtonActions from '../../components/button-actions'\r\nimport { getSets, loadFaceParts } from '../../reducers/preview'\r\nimport MainTabs from '../../components/main-tabs'\r\nimport AppHeader from '../../components/app-header'\r\nimport AppMenu from '../../components/app-menu'\r\n\r\n\r\nfunction AvatarPage(props) {\r\n\r\n  useEffect(() => {\r\n    props.getSets().then(response => {\r\n      if (!props.match.params.setId) {\r\n        props.history.push(response.data[0]._id);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.match.params.setId) {\r\n      props.loadFaceParts(props.match.params.setId);\r\n    }\r\n  }, [props.match.params.setId]);\r\n\r\n  return (\r\n    <div className=\"AvatarPage\">\r\n      <AppMenu />\r\n      <AppHeader match={props.match}/>\r\n      <aside className=\"App-left-col\">\r\n        <div className=\"left-col-container\">\r\n          <Preview setId={props.match.params.setId}/>\r\n          <br/>\r\n          <ButtonActions setId={props.match.params.setId}/>\r\n        </div>\r\n      </aside>\r\n      <main className=\"App-main\">\r\n        <MainTabs />\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  }),\r\n  {\r\n    loadFaceParts,\r\n    getSets\r\n  }\r\n)(AvatarPage)\r\n","import React, {useEffect} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getSets } from '../../reducers/preview'\r\nimport './select-set.scss'\r\nimport { Link } from \"react-router-dom\";\r\nimport SocialLogin from '../social-login';\r\n\r\n\r\n\r\nfunction SelectSet(props) {\r\n\r\n  useEffect(() => {\r\n    props.getSets()\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"SelectSet\">\r\n      <h3>Select Art Set</h3>\r\n      <ul>\r\n        {props.sets.map(set => (\r\n          <li>\r\n            <Link to={set._id}>\r\n              {set.name}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  }),\r\n  {\r\n    getSets\r\n  }\r\n)(SelectSet)\r\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport \"react-tabs/style/react-tabs.css\";\nimport './App.scss';\nimport AvatarPage from './components/avatar-page'\nimport SelectSet from './components/select-set'\n\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Router basename={process.env.REACT_APP_ROUTER_BASE_URL || ''}>\n          <Switch>\n            <Route path=\"/\" exact component={AvatarPage} />\n            <Route path=\"/:setId\" exact component={AvatarPage} />\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport reducer from './reducers/preview'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\nimport ReduxThunk from 'redux-thunk'\n\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(ReduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}