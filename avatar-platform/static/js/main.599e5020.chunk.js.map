{"version":3,"sources":["components/signup-page/face.png","components/signin-page/face.png","services/canvas.js","services/backend.js","reducers/preview.js","components/spinner/Spinner.js","components/preview/Preview.js","components/download-success-modal/DownloadSuccessModal.js","services/validations.js","components/social-login/SocialLogin.js","components/signup-form/SignupForm.js","components/signin-form/SigninForm.js","components/download-modal/DownloadModal.js","components/button-actions/ButtonActions.js","components/face-part-container/FacePartContainer.js","components/color-picker/ColorPicker.js","face-parts/Base.js","components/main-tabs/MainTabs.js","components/app-header/AppHeader.js","components/app-menu/AppMenu.js","components/avatar-page/AvatarPage.js","components/signup-page/SignupPage.js","components/signin-page/SigninPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","canvas","document","createElement","context","getContext","IMG_WIDTH","IMG_HEIGHT","width","height","changeImageColor","url","color","Promise","resolve","reject","img","src","onload","clearRect","drawImage","alpha","imageSmoothingQuality","globalCompositeOperation","fillStyle","fillRect","colorize","toDataURL","API_URL","process","instance","backend","Backend","_this","this","Object","classCallCheck","authAxios","axiosInstance","token","signup","body","post","signupFacebook","then","response","setAxiosInstance","data","localStorage","setItem","catch","e","signupGoogle","console","log","signin","getProfileInfo","get","getFaceParts","setId","getSets","login","saveImage","method","responseType","params","logOut","removeItem","getItem","axios","create","baseURL","headers","Content-Type","Authorization","dispatch","type","payload","strategy","loginRequest","changeColor","part","getState","partsToInheritColor","partsDataOriginal","forEach","pd","index","inheritColorFrom","_id","push","images","el","value","inheritPart","getCurrentValues","createSelector","state","partsData","current","entries","values","_loop","i","key","find","zIndex","length","sort","a","b","map","v","getPreviewIsLoading","isLoading","reducer","initialState","handlers","arguments","undefined","action","hasOwnProperty","createReducer","profile","PARTS","PARTS_WITH_COLORS","partSprites","previewIsLoading","facePartsAreLoading","savingIsLoading","sets","hiddenParts","conflicts","SELECT_PART","_ref","_ref$payload","randomized","newCurrent","assign","partId","conflictedPart","objectSpread","defineProperty","SET_COLOR_START","_ref2","newPart","SET_COLOR","_ref3","_ref3$payload","newPartImages","concat","GET_PROFILE_INFO_SUCCESS","_ref4","LOGIN_SUCCESS","_ref5","SIGNUP_SUCCESS","_ref6","LOGOUT","SET_PREVIEW_IS_LOADING","_ref7","GET_SETS_SUCCESS","_ref8","LOAD_FACE_PARTS_REQUEST","_ref9","LOAD_FACE_PARTS_SUCCESS","_ref10","newPartsData","cloneDeep","partIndex","unshift","conflictsWith","showOnStart","keys","pickBy","colors","SAVE_IMAGE_REQUEST","SAVE_IMAGE_SUCCESS","Spinner","_ref$width","_ref$height","react_default","className","style","connect","items","classNames","item","backgroundImage","alt","DownloadSuccessModal","props","lib_default","isOpen","onRequestClose","closeModal","imgBase64","Modal","setAppElement","required","minLength","email","test","google_login","clientId","buttonText","onSuccess","res","onSuccessGoogleLogin","access_token","accessToken","onFailure","err","facebook_login_render_props_default","appId","callback","onSuccessFacebookLogin","render","renderProps","onClick","ti_index_esm","initialValues","password","repeatPassword","validate","errors","emailError","passwordError","repeatPasswordError","valueToEqual","passwordsMatch","place","social_login_SocialLogin","formik_esm","validateOnChange","onSubmit","setSubmitting","onSuccessEmailLogin","toast","error","finally","formProps","touched","isSubmitting","handleChange","handleBlur","handleSubmit","htmlFor","id","name","placeholder","onChange","onBlur","disabled","react_router_dom","to","href","preventDefault","onSignInClick","onSignUpClick","_useState","useState","_useState2","slicedToArray","currentPageSignIn","setCurrentPageSignIn","useEffect","onDownload","signin_form_SigninForm","signup_form_SignupForm","randomizeFace","partsShuffled","Math","random","reduce","accum","includes","r","floor","toString","padStart","g","saveAs","Blob","modalSuccessIsOpen","setModalSuccessIsOpen","_useState3","_useState4","modalDownloadIsOpen","setModalDownloadIsOpen","_useState5","_useState6","setImgBase64","index_esm","download_modal_DownloadModal","reader","FileReader","readAsDataURL","onloadend","base64data","result","FacePartContainer","active","selectPart","showPicker","setShowPicker","currentColor","setCurrentColor","onBackgroundClick","window","addEventListener","removeEventListener","stopPropagation","backgroundColor","background","react_color_lib","disableAlpha","hex","noColors","color_picker_ColorPicker","esm","defaultIndex","title","face_parts_Base","set","match","BurgerMenu","right","Fragment","loadFaceParts","history","app_menu_AppMenu","app_header_AppHeader","preview_Preview","button_actions_ButtonActions","main_tabs_MainTabs","face","App","possibleConstructorReturn","getPrototypeOf","call","react_toastify","autoClose","hideProgressBar","react_router","path","exact","component","AvatarPage","SignupPage","SigninPage","React","Component","Boolean","location","hostname","store","createStore","composeWithDevTools","applyMiddleware","ReduxThunk","ReactDOM","es","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.599e5020.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/face.2c39ddd4.png\";","module.exports = __webpack_public_path__ + \"static/media/face.6721bc4f.png\";","const canvas = document.createElement(\"canvas\"), // shared instance\r\n  context = canvas.getContext(\"2d\");\r\n\r\nconst IMG_WIDTH = 600;\r\nconst IMG_HEIGHT = 600;\r\n\r\n// set image pixel size and hex color\r\ncanvas.width = IMG_WIDTH;\r\ncanvas.height = IMG_HEIGHT;\r\n\r\nexport const changeImageColor = (url, color) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n    let img = document.createElement('img');\r\n    img.src = url;\r\n    img.onload = () => {\r\n\r\n      context.clearRect(0, 0, canvas.width, canvas.height);\r\n      context.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n      colorize(color, 1);\r\n\r\n      context.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n      resolve(canvas.toDataURL(\"image/png\", 0.7));\r\n    }\r\n  })\r\n\r\n\r\n  function colorize(color, alpha) {\r\n    context.imageSmoothingQuality = \"medium\";\r\n    context.globalCompositeOperation = \"source-atop\";\r\n    context.fillStyle = color;\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n    context.globalCompositeOperation = \"multiply\";\r\n  }\r\n}\r\n\r\nexport const createSprite = (base64Urls) => {\r\n  const spriteCanvas = document.createElement(\"canvas\"),\r\n    ctx = spriteCanvas.getContext(\"2d\");\r\n  spriteCanvas.width = base64Urls.length * IMG_WIDTH;\r\n  spriteCanvas.height = IMG_HEIGHT;\r\n\r\n  return new Promise((resolve) => {\r\n\r\n    let promisesArray = [];\r\n\r\n    for (let i = 0; i < base64Urls.length; i++) {\r\n      promisesArray.push(drawImg(base64Urls[i], i * IMG_WIDTH, 0));\r\n    }\r\n\r\n    Promise.all(promisesArray).then(() => {\r\n      resolve(spriteCanvas.toDataURL(\"image/png\", 1));\r\n    })\r\n  });\r\n\r\n  function drawImg(url, x, y) {\r\n    return new Promise((resolve) => {\r\n      let img = document.createElement('img');\r\n      img.src = url;\r\n      img.onload = () => {\r\n        ctx.drawImage(img, x, y, IMG_WIDTH, IMG_HEIGHT);\r\n        resolve();\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://lvh.me:3001/' || 'http://localhost:3001/';\r\n\r\n\r\nlet instance = null;\r\n\r\nclass Backend {\r\n  authAxios = null;\r\n  axiosInstance = null;\r\n  token = null;\r\n\r\n  constructor() {\r\n    if (!instance) {\r\n      instance = this;\r\n      let token = localStorage.getItem('token');\r\n      console.log(token);\r\n      if (token) {\r\n        this.token = token;\r\n      }\r\n      this.setAxiosInstance(token);\r\n    }\r\n    return instance;\r\n  }\r\n\r\n\r\n  signup = (body) => {\r\n    return this.axiosInstance.post(API_URL + 'auth/sign-up', body);\r\n  }\r\n\r\n  signupFacebook = (body) => {\r\n    return new Promise((resolve, reject) => {\r\n      this.axiosInstance.post(API_URL + 'auth/facebook', body)\r\n        .then(response => {\r\n          this.setAxiosInstance(response.data.token);\r\n          localStorage.setItem('token', response.data.token);\r\n          resolve(response);\r\n        })\r\n        .catch(e => reject(e));\r\n    });\r\n  }\r\n\r\n  signupGoogle = (body) => {\r\n    return new Promise((resolve, reject) => {\r\n      this.axiosInstance.post(API_URL + 'auth/google', body)\r\n        .then(response => {\r\n          console.log(response);\r\n          this.setAxiosInstance(response.data.token);\r\n          localStorage.setItem('token', response.data.token);\r\n          resolve(response);\r\n        })\r\n        .catch(e => reject(e));\r\n    });\r\n  }\r\n\r\n  signin = (body) => {\r\n    return new Promise((resolve, reject) => {\r\n      return this.axiosInstance.post(API_URL + 'auth/login', body)\r\n        .then(response => {\r\n          this.setAxiosInstance(response.data.token);\r\n          localStorage.setItem('token', response.data.token);\r\n          resolve(response);\r\n        })\r\n        .catch(e => reject(e));\r\n    });\r\n  }\r\n\r\n  getProfileInfo = () => {\r\n    return this.authAxios.get(API_URL + 'profile/info');\r\n  }\r\n\r\n  getFaceParts = (setId) => {\r\n    return this.axiosInstance.get(API_URL + 'face-parts/' + setId);\r\n  }\r\n\r\n  getSets = () => {\r\n    return this.axiosInstance.get(API_URL + 'face-parts/sets');\r\n  }\r\n\r\n  login = (body) => {\r\n    return this.axiosInstance.post(API_URL + 'face-parts/login', body);\r\n  }\r\n\r\n  saveImage = (setId, data) => {\r\n    return this.axiosInstance({\r\n      url: API_URL + 'save-image/' + setId,\r\n      method: 'GET',\r\n      responseType: 'blob', // important,\r\n      params: { data }\r\n    })\r\n  }\r\n\r\n  logOut = () => {\r\n    this.token = null;\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n\r\n  // common methods\r\n\r\n  // request(method, ...args) {\r\n  //   return new Promise((resolve, reject) => {\r\n  //     this.authAxios[method](...args).then(response => {\r\n  //       resolve(response);\r\n  //     })\r\n  //       .catch(e => {\r\n  //         if (e.response && e.response.status === 401) {\r\n  //           window.location = (process.env.REACT_APP_ROUTER_BASE_URL || '') + '/#/login';\r\n  //         }\r\n  //         reject(e);\r\n  //       })\r\n  //   })\r\n  // }\r\n\r\n  // SET INSTANCE\r\n  setAxiosInstance(token) {\r\n    this.axiosInstance = axios.create({\r\n      baseURL: API_URL,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      }\r\n    });\r\n    this.authAxios = axios.create({\r\n      baseURL: API_URL,\r\n      headers: {\r\n        Authorization: 'jwt ' + token,\r\n        'Content-Type': 'application/json',\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default new Backend();\r\n","import { createSelector } from 'reselect'\r\nimport { changeImageColor } from '../services/canvas'\r\nimport backend from '../services/backend'\r\nimport { cloneDeep, pickBy } from 'lodash'\r\nimport { saveAs } from 'file-saver';\r\n\r\nconst TRANSPARENT_PIXEL = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII='\r\nconst TRANSPARENT_ID = 'transparent'\r\n\r\nconst initialState = {\r\n  profile: null,\r\n  partsDataOriginal: {},\r\n  partsData: {},\r\n  PARTS: [],\r\n  PARTS_WITH_COLORS: [],\r\n  partSprites: [],\r\n  previewIsLoading: false,\r\n  facePartsAreLoading: true,\r\n  savingIsLoading: false,\r\n  sets: [],\r\n  hiddenParts: [], // for conflicts\r\n  conflicts: {},\r\n  current: {}\r\n  // current: {\r\n  //   head: {\r\n  //     _id: null,\r\n  //     color: null\r\n  //   }\r\n  // }\r\n};\r\n\r\nexport function createReducer(initialState, handlers) {\r\n  return function reducer(state = initialState, action) {\r\n    if (handlers.hasOwnProperty(action.type)) {\r\n      return handlers[action.type](state, action)\r\n    } else {\r\n      return state\r\n    }\r\n  }\r\n}\r\n\r\n// ACTIONS\r\n\r\nexport const loadFaceParts = (setId) => (dispatch) => {\r\n  dispatch({ type: 'LOAD_FACE_PARTS_REQUEST' });\r\n  backend.getFaceParts(setId).then(response => {\r\n    dispatch({ type: 'LOAD_FACE_PARTS_SUCCESS', payload: response });\r\n  }).catch(e => {\r\n    dispatch({ type: 'LOAD_FACE_PARTS_FAILURE', payload: e });\r\n  })\r\n}\r\n\r\nexport const getSets = () => (dispatch) => {\r\n  dispatch({ type: 'GET_SETS_REQUEST' });\r\n  return new Promise(resolve => {\r\n    backend.getSets().then(response => {\r\n      dispatch({ type: 'GET_SETS_SUCCESS', payload: response });\r\n      resolve(response);\r\n    }).catch(e => {\r\n      dispatch({ type: 'GET_SETS_FAILURE', payload: e });\r\n    })\r\n  })\r\n}\r\nexport const getProfileInfo = () => (dispatch) => {\r\n  if (!backend.token) return;\r\n  dispatch({ type: 'GET_PROFILE_INFO_REQUEST' });\r\n  return new Promise(resolve => {\r\n    backend.getProfileInfo().then(response => {\r\n      dispatch({ type: 'GET_PROFILE_INFO_SUCCESS', payload: response });\r\n      resolve(response);\r\n    }).catch(e => {\r\n      dispatch({ type: 'GET_PROFILE_INFO_FAILURE', payload: e });\r\n    })\r\n  })\r\n}\r\n\r\nexport const login = (body, strategy) => (dispatch) => {\r\n  dispatch({ type: 'LOGIN_REQUEST' });\r\n  let loginRequest = backend.signin;\r\n  if (strategy === 'facebook') {\r\n    loginRequest = backend.signupFacebook;\r\n  }\r\n  if (strategy === 'google') {\r\n    loginRequest = backend.signupGoogle;\r\n  }\r\n  return loginRequest(body).then(response => {\r\n    dispatch({ type: 'LOGIN_SUCCESS', payload: response });\r\n  }).catch(e => {\r\n    dispatch({ type: 'LOGIN_FAILURE', payload: e });\r\n  })\r\n}\r\n\r\nexport const signup = (body) => (dispatch) => {\r\n  dispatch({ type: 'SIGNUP_REQUEST' });\r\n  return backend.signup(body).then(response => {\r\n    dispatch({ type: 'SIGNUP_SUCCESS', payload: response });\r\n  }).catch(e => {\r\n    dispatch({ type: 'SIGNUP_FAILURE', payload: e });\r\n  })\r\n}\r\n\r\nexport const logOut = () => (dispatch) => {\r\n  backend.logOut();\r\n  dispatch({ type: 'LOGOUT'});\r\n\r\n}\r\n\r\nexport const saveImage = (setId) => (dispatch, getState) => {\r\n  const data = getState().current;\r\n  dispatch({ type: 'SAVE_IMAGE_REQUEST' });\r\n  return new Promise((resolve, reject) =>  {\r\n    backend.saveImage(setId, data).then(response => {\r\n      saveAs(new Blob([response.data]), 'image' + Math.floor(Math.random() * 100000 + 1) + '.png');\r\n      dispatch({ type: 'SAVE_IMAGE_SUCCESS', payload: response });\r\n      resolve(response);\r\n    }).catch(e => {\r\n      dispatch({ type: 'SAVE_IMAGE_FAILURE', payload: e });\r\n      reject(e);\r\n    })\r\n  });\r\n}\r\n\r\nexport const changeColor = (part, color) => (dispatch, getState) => {\r\n  let partsToInheritColor = [];\r\n  getState().partsDataOriginal.forEach((pd, index) => {\r\n    if (pd.inheritColorFrom === getState().partsDataOriginal[part]._id) {\r\n      partsToInheritColor.push(index);\r\n    }\r\n  })\r\n  getState().partsDataOriginal[part].images.forEach(el => {\r\n    changeImageColor(el.value, color).then((value) => {\r\n      dispatch({ type: 'SET_COLOR', payload: { _id: el._id, part, value, color } })\r\n    })\r\n  })\r\n  partsToInheritColor.forEach(inheritPart => {\r\n    getState().partsDataOriginal[inheritPart].images.forEach(el => {\r\n      changeImageColor(el.value, color).then((value) => {\r\n        dispatch({ type: 'SET_COLOR', payload: { _id: el._id, part: inheritPart, value, color } })\r\n      })\r\n    })\r\n  })\r\n}\r\n\r\n\r\nexport const randomizeFace = () => (dispatch, getState) => {\r\n\r\n  let partsShuffled = [].concat(getState().PARTS).sort(() => Math.random() - 0.5);\r\n  let conflicts = {}\r\n  partsShuffled.forEach(part => {\r\n    if (!getState().partsData[part].images.length) return\r\n    let conflictedArray = Object.values(conflicts).reduce((accum, value) => accum.concat(value), []);\r\n    if (conflictedArray.includes(getState().partsData[part]._id)) {\r\n      return dispatch({type: 'SELECT_PART', payload: {_id: TRANSPARENT_ID, part, randomized: true }})\r\n    };\r\n\r\n    if (getState().PARTS_WITH_COLORS.includes(part)) {\r\n      let r = Math.floor(Math.random() * 255).toString(16).padStart(2, '0')\r\n      let g = Math.floor(Math.random() * 255).toString(16).padStart(2, '0')\r\n      let b = Math.floor(Math.random() * 255).toString(16).padStart(2, '0')\r\n      dispatch(changeColor(part, '#' + r + g + b))\r\n      dispatch({type: 'SET_COLOR_START', payload: { part }})\r\n    }\r\n\r\n    let index = Math.floor(Math.random() * (getState().partsData[part].images.length - 1)) + 1;\r\n    let _id = getState().partsData[part].images[index]._id;\r\n    dispatch({type: 'SELECT_PART', payload: {_id, part, randomized: true }})\r\n    conflicts[part] = getState().conflicts[getState().partsData[part]._id];\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n// SELECTORS\r\n//\r\nexport const getCurrentValues = createSelector(\r\n  state => state.partsData,\r\n  state => state.current,\r\n  (partsData, current) => {\r\n    let entries = Object.entries(partsData);\r\n    let values = [];\r\n    for (let i = 0; i < entries.length; i ++) {\r\n      let key = entries[i][0];\r\n      if (!current[key]) continue;\r\n      let value = entries[i][1].images.find(el => el._id === current[key]._id)\r\n      values.push({\r\n        zIndex: entries[i][1].zIndex,\r\n        value: value\r\n      });\r\n    }\r\n    values = values.sort((a, b) => a.zIndex - b.zIndex)\r\n    values = values.map(v => v.value && v.value.value)\r\n    return values\r\n  }\r\n)\r\n\r\nexport const getPreviewIsLoading = createSelector(state => state.partsData, partsData => {\r\n  if (!partsData) return true;\r\n  for (let index in partsData) {\r\n    for (let i = 0; i < partsData[index].images.length; i++) {\r\n      if (partsData[index].images[i].isLoading) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n});\r\n\r\n// REDUCER\r\n\r\nconst reducer = createReducer(initialState, {\r\n  SELECT_PART: function(state, { payload: { _id, part, randomized }}) {\r\n    let newCurrent = Object.assign({}, state.current);\r\n\r\n    let partId = state.partsData[part]._id;\r\n\r\n    if (!randomized && state.conflicts[partId]) {\r\n      state.conflicts[partId].forEach(conflictedPart => {\r\n        for (let index in state.partsData) {\r\n          if (state.partsData[index]._id === conflictedPart) {\r\n            newCurrent[index] && (newCurrent[index]._id = TRANSPARENT_ID);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return {\r\n      ...state,\r\n      current: {\r\n        ...newCurrent,\r\n        [part]: {\r\n          ...state.current[part],\r\n          _id: _id,\r\n        }\r\n      }\r\n    }\r\n  },\r\n  SET_COLOR_START: function(state, { payload: { part }}) {\r\n    let newPart = Object.assign({}, state.partsData[part]);\r\n    newPart.images && newPart.images.forEach(img => img.isLoading = true);\r\n    return {\r\n      ...state,\r\n      partsData: {\r\n        ...state.partsData,\r\n        [part]: newPart\r\n      }\r\n    }\r\n  },\r\n  SET_COLOR: function(state, { payload: {_id, part, value, color }}) {\r\n    let newPartImages = [].concat(state.partsData[part].images)\r\n    newPartImages.find(el => el._id === _id).value = value;\r\n    newPartImages.find(el => el._id === _id).isLoading = false;\r\n    return {\r\n      ...state,\r\n      partsData: {\r\n        ...state.partsData,\r\n        [part]: {\r\n          ...state.partsData[part],\r\n          images: newPartImages\r\n        }\r\n      },\r\n      current: {\r\n        ...state.current,\r\n        [part]: {\r\n          ...state.current[part],\r\n          color\r\n        }\r\n      }\r\n    }\r\n  },\r\n  GET_PROFILE_INFO_SUCCESS: function(state, { payload }) {\r\n    return {\r\n      ...state,\r\n      profile: payload.data\r\n    }\r\n  },\r\n  LOGIN_SUCCESS: function(state, { payload }) {\r\n    return {\r\n      ...state,\r\n      profile: payload.data\r\n    }\r\n  },\r\n  SIGNUP_SUCCESS: function(state, { payload }) {\r\n    return {\r\n      ...state,\r\n      profile: payload.data\r\n    }\r\n  },\r\n  LOGOUT: function(state) {\r\n    return {\r\n      ...state,\r\n      profile: null\r\n    }\r\n  },\r\n  SET_PREVIEW_IS_LOADING: function(state, { value }) {\r\n    return {\r\n      ...state,\r\n      previewIsLoading: value\r\n    }\r\n  },\r\n  GET_SETS_SUCCESS: function(state, { payload }) {\r\n    return {\r\n      ...state,\r\n      sets: payload.data\r\n    }\r\n  },\r\n  LOAD_FACE_PARTS_REQUEST: function(state, { payload }) {\r\n    return {\r\n      ...state,\r\n      current: {},\r\n      partsDataOriginal: {},\r\n      partsData: {},\r\n      PARTS: [],\r\n      PARTS_WITH_COLORS: [],\r\n      facePartsAreLoading: true\r\n    }\r\n  },\r\n  LOAD_FACE_PARTS_SUCCESS: function(state, { payload }) {\r\n    let newPartsData =  cloneDeep(payload.data);\r\n    let newCurrent = Object.assign({}, state.current);\r\n    let conflicts = {};\r\n    newPartsData.forEach((part, partIndex) => {\r\n      part.images.unshift({\r\n        _id: TRANSPARENT_ID,\r\n        value: TRANSPARENT_PIXEL\r\n      });\r\n      part.images.forEach(img => {\r\n        img.isLoading = false;\r\n      })\r\n      if (part.conflictsWith.length) {\r\n        if (conflicts[part._id]) conflicts[part._id].concat(part.conflictsWith);\r\n        else conflicts[part._id] = part.conflictsWith;\r\n        conflicts[part._id] = part.conflictsWith;\r\n        part.conflictsWith.forEach(conflictedPart => {\r\n          if (conflicts[conflictedPart]) conflicts[conflictedPart].push(part._id);\r\n          else conflicts[conflictedPart] = [part._id];\r\n        })\r\n      }\r\n      // set current\r\n      if (part.showOnStart) {\r\n        newCurrent[partIndex] = {\r\n          _id: part.images[1]._id\r\n        };\r\n      } else {\r\n        newCurrent[partIndex] = {\r\n          _id: TRANSPARENT_ID\r\n        };\r\n      }\r\n    })\r\n\r\n    return {\r\n      ...state,\r\n      conflicts,\r\n      partsData: newPartsData,\r\n      partsDataOriginal: cloneDeep(newPartsData),\r\n      PARTS: Object.keys(payload.data),\r\n      PARTS_WITH_COLORS: Object.keys(pickBy(payload.data, part => part.colors && part.colors.length)),\r\n      facePartsAreLoading: false,\r\n      current: newCurrent\r\n    }\r\n  },\r\n  SAVE_IMAGE_REQUEST: function(state) {\r\n    return {\r\n      ...state,\r\n      savingIsLoading: true\r\n    }\r\n  },\r\n  SAVE_IMAGE_SUCCESS: function(state) {\r\n    return {\r\n      ...state,\r\n      savingIsLoading: false\r\n    }\r\n  }\r\n})\r\n\r\nexport default reducer\r\n","import React from 'react';\r\nimport './spinner.scss'\r\n\r\nexport default function Spinner ({width = 300, height = 300}) {\r\n  return (\r\n    <div className=\"spinner\" style={{width, height}}>Loading...</div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getCurrentValues, getPreviewIsLoading } from '../../reducers/preview'\r\nimport Spinner from '../spinner'\r\nimport classNames from 'classnames'\r\n\r\nimport './preview.scss'\r\n\r\nfunction Preview({ items, previewIsLoading, setId }) {\r\n  return (\r\n    <div className={classNames('Preview', previewIsLoading && 'isLoading')}>\r\n\r\n      <div className=\"images\">\r\n        {\r\n          items.map((item, index) => (\r\n            <div className=\"img\" style={{backgroundImage: 'url(' + item + ')'}} key={index} alt=\"\"/>\r\n          ))\r\n        }\r\n      </div>\r\n      <Spinner />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    items: getCurrentValues(state),\r\n    current: state.current,\r\n    previewIsLoading: state.facePartsAreLoading || getPreviewIsLoading(state) || state.savingIsLoading\r\n  })\r\n)(Preview)\r\n","import React from 'react';\r\nimport './download-success-modal.scss'\r\nimport Modal from 'react-modal';\r\n\r\nModal.setAppElement('#root')\r\n\r\nexport default function DownloadSuccessModal(props) {\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={props.isOpen}\r\n      onRequestClose={props.closeModal}\r\n      className=\"download-success-modal\"\r\n    >\r\n      <h4>Great! Your download has been successful!</h4>\r\n      <img className=\"modal-image\" src={props.imgBase64} alt=\"\"/>\r\n      <h6>If you want to download images in high quality, you can <strong>become premium</strong></h6>\r\n    </Modal>\r\n  )\r\n}\r\n","export function required(value) {\r\n  if (!value) {\r\n    return 'Field is required'\r\n  }\r\n}\r\n\r\nexport function cleanText(value) {\r\n  const CLEAN_TEXT = /^[^`~!@#$%^&*()+=[{\\]}|\\\\'<,.>?\";:]+$/;\r\n  if (!CLEAN_TEXT.test(value)) {\r\n    return 'No special characters allowed'\r\n  }\r\n}\r\n\r\nexport function minLength(value, length) {\r\n  if (value.length < length) {\r\n    return `Min length have to be ${length}`;\r\n  }\r\n}\r\n\r\nexport function email(value) {\r\n  const EMAIL = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\r\n  if (!EMAIL.test(value)) {\r\n    return 'Invalid email address'\r\n  }\r\n}\r\n\r\nexport function passwordsMatch(value, valueToEqual) {\r\n  if (value !== valueToEqual) {\r\n    return 'Passwords does not match'\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport './social-login.scss'\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\nimport { TiSocialFacebookCircular } from 'react-icons/ti/';\r\nimport { login } from '../../reducers/preview';\r\n\r\n\r\n\r\nfunction SocialLogin(props) {\r\n\r\n  const onSuccessGoogleLogin = (res) => {\r\n    //console.log(res.profileObj);\r\n    console.log(res);\r\n    // props.login({ profile: res.profileObj });\r\n    props.onSuccessGoogleLogin({access_token: res.accessToken});\r\n  }\r\n\r\n  const onSuccessFacebookLogin = (res) => {\r\n    console.log(res);\r\n    props.onSuccessFacebookLogin({access_token: res.accessToken});\r\n    // props.login({ profile: res });\r\n  }\r\n\r\n  return (\r\n    <div className=\"SocialLogin\">\r\n\r\n      {props.profile ? (\r\n        <div>\r\n          You are logged in as {props.profile.email}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <GoogleLogin\r\n            clientId=\"546998968320-0cn7qut7aklej8akfljup6hi9a7najba.apps.googleusercontent.com\"\r\n            buttonText=\"Sign in with Google\"\r\n            responseType=\"token\"\r\n            onSuccess={onSuccessGoogleLogin}\r\n            onFailure={(err) => console.log(err)}\r\n          />\r\n          {/*<a href=\"http://lvh.me:3001/auth/google\">GOOGLE</a>*/}\r\n          <FacebookLogin\r\n            appId=\"375214849866140\"\r\n            // autoLoad={true}\r\n            callback={onSuccessFacebookLogin}\r\n            // fields=\"name,email,picture\"\r\n            render={renderProps => (\r\n              <button className=\"fb-button\" onClick={renderProps.onClick}>\r\n                <TiSocialFacebookCircular />\r\n                Sign in with Facebook\r\n              </button>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    profile: state.profile\r\n  }),\r\n  {\r\n    login\r\n  }\r\n)(SocialLogin)\r\n","import React, {useEffect} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getSets, login } from '../../reducers/preview'\r\nimport './signup-form.scss'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Formik } from 'formik';\r\nimport { required, email, passwordsMatch, minLength } from '../../services/validations';\r\nimport classNames from 'classnames';\r\nimport backend from '../../services/backend'\r\nimport { toast } from 'react-toastify';\r\nimport SocialLogin from '../../components/social-login';\r\nimport { signup } from '../../reducers/preview';\r\n\r\n\r\nconst initialValues = {\r\n  email: '',\r\n  password: '',\r\n  repeatPassword: ''\r\n};\r\n\r\nconst validate = values => {\r\n  let errors = {};\r\n  let emailError = required(values.email) || email(values.email);\r\n  if (emailError) {\r\n    errors.email = emailError;\r\n  }\r\n  let passwordError = required(values.password) || minLength(values.password, 6);\r\n  if (passwordError) {\r\n    errors.password = passwordError;\r\n  }\r\n  let repeatPasswordError = required(values.repeatPassword) || passwordsMatch(values.repeatPassword, values.password);\r\n  if (repeatPasswordError) {\r\n    errors.repeatPassword = repeatPasswordError;\r\n  }\r\n\r\n  return errors\r\n};\r\n\r\n\r\nfunction SignupForm(props) {\r\n\r\n  function onSuccessFacebookLogin(res) {\r\n    props.login(res, 'facebook').then(() => {\r\n      backend.getProfileInfo().then(() => {\r\n        props.onSuccessFacebookLogin()\r\n      });\r\n    });\r\n  }\r\n  function onSuccessGoogleLogin(res) {\r\n    props.login(res, 'google').then((res) => {\r\n      backend.getProfileInfo().then(() => {\r\n        props.onSuccessGoogleLogin()\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={ classNames('SignupForm', 'place-' + props.place) }>\r\n      {props.place === 'modal' && (\r\n        <h5 className=\"title\">Please sign up to download</h5>\r\n      )}\r\n      {props.place === 'page' && (\r\n        <h5 className=\"title\">Sign Up</h5>\r\n      )}\r\n      <SocialLogin\r\n        onSuccessFacebookLogin={onSuccessFacebookLogin}\r\n        onSuccessGoogleLogin={onSuccessGoogleLogin}\r\n      />\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validate={validate}\r\n        validateOnChange={true}\r\n        onSubmit={(values, { setSubmitting }) => {\r\n          props.signup(values)\r\n            .then(response => {\r\n              props.onSuccessEmailLogin();\r\n            })\r\n            .catch((e) => {\r\n              toast.error('Unexpected error. Try again later.')\r\n            })\r\n            .finally(() => setSubmitting(false))\r\n        }}\r\n      >\r\n        {formProps => {\r\n          const {\r\n            values,\r\n            errors,\r\n            touched,\r\n            isSubmitting,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n          } = formProps;\r\n          return (\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"control form-group\">\r\n                <label htmlFor=\"email\" className=\"label\">Email</label>\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"text\"\r\n                  value={values.email}\r\n                  placeholder=\"Email\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={classNames('input form-control', touched.email && errors.email && 'error')}\r\n                />\r\n                { touched.email && errors.email &&\r\n                <div className=\"error-message\">{ errors.email }</div> }\r\n              </div>\r\n\r\n              <div className=\"control form-group\">\r\n                <label htmlFor=\"password\" className=\"label\">Password</label>\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  value={values.password}\r\n                  placeholder=\"Password\"\r\n                  onChange={handleChange}\r\n                  className={classNames('input form-control', touched.password && errors.password && 'error')}\r\n                />\r\n                { touched.password && errors.password &&\r\n                <div className=\"error-message\">{ errors.password }</div> }\r\n              </div>\r\n\r\n              <div className=\"control form-group\">\r\n                <label htmlFor=\"repeatPassword\" className=\"label\">Repeat your password</label>\r\n                <input\r\n                  id=\"repeatPassword\"\r\n                  name=\"repeatPassword\"\r\n                  type=\"password\"\r\n                  value={values.repeatPassword}\r\n                  placeholder=\"Repeat your password\"\r\n                  onChange={handleChange}\r\n                  className={classNames('input form-control', touched.password && errors.password && 'error')}\r\n                />\r\n                { touched.repeatPassword && errors.repeatPassword &&\r\n                <div className=\"error-message\">{ errors.repeatPassword }</div> }\r\n              </div>\r\n              <div className=\"control form-group\">\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Sign Up\"\r\n                  disabled={isSubmitting}\r\n                  className=\"submit btn btn-block btn-lg btn-primary\"\r\n                />\r\n              </div>\r\n              <div className='signin'>\r\n                {props.place === 'page' ? (\r\n                  <Link to=\"signin\">Already have an account? Sign in now!</Link>\r\n                ) : (\r\n                  <a href=\"\" onClick={e => { e.preventDefault(); props.onSignInClick() }}>\r\n                    Already have an account? Sign in now!\r\n                  </a>\r\n                )}\r\n              </div>\r\n            </form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  }),\r\n  {\r\n    getSets,\r\n    login,\r\n    signup\r\n  }\r\n)(SignupForm)\r\n","import React, {useEffect} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getSets, login } from '../../reducers/preview'\r\nimport './signin-form.scss'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Formik } from 'formik';\r\nimport { required, email, minLength } from '../../services/validations';\r\nimport backend from '../../services/backend'\r\n\r\nimport classNames from 'classnames';\r\n\r\nimport SocialLogin from '../social-login/SocialLogin'\r\nimport { toast } from 'react-toastify'\r\n\r\n\r\n\r\nconst initialValues = {\r\n  email: '',\r\n  password: ''\r\n};\r\n\r\nconst validate = values => {\r\n  let errors = {};\r\n  let emailError = required(values.email) || email(values.email);\r\n  if (emailError) {\r\n    errors.email = emailError;\r\n  }\r\n  let passwordError = required(values.password) || minLength(values.password, 6);\r\n  if (passwordError) {\r\n    errors.password = passwordError;\r\n  }\r\n  return errors\r\n};\r\n\r\n\r\nfunction SigninForm(props) {\r\n\r\n  function onSuccessFacebookLogin(res) {\r\n    props.login(res, 'facebook').then(() => {\r\n      backend.getProfileInfo().then(() => {\r\n        props.onSuccessFacebookLogin();\r\n      });\r\n    });\r\n  }\r\n\r\n  function onSuccessGoogleLogin(res) {\r\n    props.login(res, 'google').then(() => {\r\n      backend.getProfileInfo().then(() => {\r\n        props.onSuccessGoogleLogin();\r\n      });\r\n    });\r\n  }\r\n\r\n  console.log(props);\r\n\r\n  return (\r\n    <div className=\"SigninForm\">\r\n      {props.place === 'modal' && (\r\n        <h5 className=\"title\">Please sign in to download</h5>\r\n      )}\r\n      {props.place === 'page' && (\r\n        <h5 className=\"title\">Sign In</h5>\r\n      )}\r\n      <SocialLogin\r\n        onSuccessFacebookLogin={onSuccessFacebookLogin}\r\n        onSuccessGoogleLogin={onSuccessGoogleLogin}\r\n      />\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validate={validate}\r\n        validateOnChange={true}\r\n        onSubmit={(values, { setSubmitting }) => {\r\n          props.login(values)\r\n            .then(response => {\r\n              props.onSuccessEmailLogin();\r\n            })\r\n            .catch(() => {\r\n              toast.error('Unexpected error. Try again later.')\r\n            })\r\n            .finally(() => setSubmitting(false))\r\n        }}\r\n      >\r\n        {formProps => {\r\n          const {\r\n            values,\r\n            errors,\r\n            touched,\r\n            isSubmitting,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n          } = formProps;\r\n          return (\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"control form-group\">\r\n                <label htmlFor=\"email\" className=\"label\">Email</label>\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"text\"\r\n                  value={values.email}\r\n                  placeholder=\"Email\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={classNames('input form-control', touched.email && errors.email && 'error')}\r\n                />\r\n                { touched.email && errors.email &&\r\n                <div className=\"error-message\">{ errors.email }</div> }\r\n              </div>\r\n\r\n              <div className=\"control form-group\">\r\n                <label htmlFor=\"password\" className=\"label\">Password</label>\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  value={values.password}\r\n                  placeholder=\"Password\"\r\n                  onChange={handleChange}\r\n                  className={classNames('input form-control', touched.password && errors.password && 'error')}\r\n                />\r\n                { touched.password && errors.password &&\r\n                <div className=\"error-message\">{ errors.password }</div> }\r\n              </div>\r\n              <div className=\"control form-group\">\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Sign In\"\r\n                  disabled={isSubmitting}\r\n                  className=\"submit btn btn-block btn-lg btn-primary\"\r\n                />\r\n              </div>\r\n              <div className='signup'>\r\n                {props.place === 'page' ? (\r\n                  <Link to=\"signup\">New to Avatar Maker? Sign up now!</Link>\r\n                ) : (\r\n                  <a href=\"\" onClick={e => { e.preventDefault(); props.onSignUpClick() }}>\r\n                    New to Avatar Maker? Sign up now!\r\n                  </a>\r\n                )}\r\n              </div>\r\n            </form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  }),\r\n  {\r\n    getSets,\r\n    login\r\n  }\r\n)(SigninForm)\r\n","import React, { useEffect, useState } from 'react'\r\nimport './download-modal.scss'\r\nimport Modal from 'react-modal';\r\nimport { connect } from 'react-redux'\r\nimport Spinner from '../spinner';\r\nimport SignupFrom from '../signup-form';\r\nimport SigninFrom from '../signin-form';\r\n\r\nModal.setAppElement('#root')\r\n\r\nfunction DownloadModal(props) {\r\n\r\n  const [currentPageSignIn, setCurrentPageSignIn] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (props.profile && props.isOpen) {\r\n      props.onDownload();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.profile, props.isOpen])\r\n\r\n  function onSuccessFacebookLogin() {\r\n\r\n  }\r\n\r\n  function onSuccessGoogleLogin() {\r\n\r\n  }\r\n  function onSuccessEmailLogin() {\r\n\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={props.isOpen}\r\n      onRequestClose={props.closeModal}\r\n      className=\"download-modal\"\r\n    >\r\n      <div>\r\n        {props.profile ?\r\n          (\r\n            <div className=\"isDownloading\">\r\n              <div className=\"email\">\r\n                You are logged in as {props.profile.email}\r\n              </div>\r\n              <p>\r\n                Downloading...\r\n                <div className=\"spinner-wrapper\">\r\n                  <Spinner width={100} height={100} />\r\n                </div>\r\n              </p>\r\n            </div>\r\n          ) : currentPageSignIn ? (\r\n            <SigninFrom\r\n              place=\"modal\"\r\n              onSignUpClick={() => setCurrentPageSignIn(false)}\r\n              onSuccessFacebookLogin={onSuccessFacebookLogin}\r\n              onSuccessGoogleLogin={onSuccessGoogleLogin}\r\n              onSuccessEmailLogin={onSuccessEmailLogin}\r\n            />\r\n            ) : (\r\n            <SignupFrom\r\n              place=\"modal\"\r\n              onSignInClick={() => setCurrentPageSignIn(true)}\r\n              onSuccessFacebookLogin={onSuccessFacebookLogin}\r\n              onSuccessGoogleLogin={onSuccessGoogleLogin}\r\n              onSuccessEmailLogin={onSuccessEmailLogin}\r\n            />\r\n          )\r\n        }\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    profile: state.profile\r\n  })\r\n)(DownloadModal)\r\n","import React, {useState} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getPreviewIsLoading, randomizeFace, saveImage } from '../../reducers/preview'\r\nimport './button-actions.scss'\r\nimport { FaDownload, FaRandom } from 'react-icons/fa'\r\n\r\nimport DownloadSuccessModal from '../download-success-modal'\r\nimport DownloadModal from '../download-modal'\r\n\r\n\r\nfunction ButtonActions(props) {\r\n\r\n  let [modalSuccessIsOpen, setModalSuccessIsOpen] = useState(false);\r\n  let [modalDownloadIsOpen, setModalDownloadIsOpen] = useState(false);\r\n  let [imgBase64, setImgBase64] = useState(null);\r\n\r\n  function onDownload() {\r\n    props.saveImage(props.setId).then((response) => {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(response.data);\r\n      reader.onloadend = function() {\r\n        let base64data = reader.result;\r\n        setImgBase64(base64data);\r\n        setModalSuccessIsOpen(true);\r\n        setModalDownloadIsOpen(false);\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"ButtonActions\">\r\n      <button\r\n        className=\"btn btn-primary btn-wide mb-2\"\r\n        onClick={props.randomizeFace}\r\n        disabled={props.savingIsLoading || props.previewIsLoading}\r\n      >\r\n        <FaRandom />&nbsp;\r\n        <span className=\"button-text\">Random</span>\r\n      </button>\r\n      <br/>\r\n      <button\r\n        className=\"btn btn-primary btn-wide\"\r\n        onClick={() => setModalDownloadIsOpen(true)}\r\n        disabled={props.savingIsLoading || props.previewIsLoading}\r\n      >\r\n        <FaDownload />&nbsp;\r\n        <span className=\"button-text\">Download</span>\r\n      </button>\r\n      <DownloadModal\r\n        isOpen={modalDownloadIsOpen}\r\n        closeModal={() => setModalDownloadIsOpen(false)}\r\n        onDownload={onDownload}\r\n      />\r\n      <DownloadSuccessModal\r\n        isOpen={modalSuccessIsOpen}\r\n        closeModal={() => setModalSuccessIsOpen(false)}\r\n        imgBase64={imgBase64}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    savingIsLoading: state.savingIsLoading,\r\n    previewIsLoading: state.facePartsAreLoading || getPreviewIsLoading(state)\r\n  }),\r\n  dispatch => ({\r\n    randomizeFace: () => dispatch(randomizeFace()),\r\n    saveImage: (setId) => dispatch(saveImage(setId))\r\n  })\r\n)(ButtonActions)\r\n","import React from 'react';\r\nimport './face-part-container.scss'\r\nimport classNames from 'classnames'\r\n\r\nexport default function FacePartContainer ({id, active, part, url, selectPart}) {\r\n  return (\r\n    <div className={classNames('FacePartContainer', active && 'active')} onClick={() => selectPart(id, part)}>\r\n      <img src={url} alt=\"\"/>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { changeColor } from '../../reducers/preview'\r\nimport './color-picker.scss'\r\nimport { ChromePicker } from 'react-color'\r\nimport { FaEyeDropper } from 'react-icons/fa'\r\n\r\n\r\nfunction ColorPicker({ part, changeColor, partsData, current }) {\r\n  const [showPicker, setShowPicker] = useState(false)\r\n  const [currentColor, setCurrentColor] = useState((current[part] && current[part].color) || '#ffffff');\r\n  const colors = partsData[part].colors;\r\n\r\n  const onBackgroundClick = () => {\r\n    setShowPicker(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('click', onBackgroundClick, false)\r\n    return function cleanup() {\r\n      window.removeEventListener('click', onBackgroundClick)\r\n    }\r\n  }, [])\r\n\r\n  if (!colors || !colors.length) return null;\r\n\r\n  return (\r\n    <div className=\"ColorPicker\" onClick={e => e.stopPropagation()}>\r\n      <div\r\n        className=\"color color-pipette\"\r\n        onClick={() => {\r\n          setShowPicker(!showPicker)\r\n        }}\r\n        style={{backgroundColor: (current[part] && current[part].color) || currentColor}}\r\n      >\r\n        <FaEyeDropper/>\r\n      </div>\r\n      {colors.map(color => (\r\n       <div className=\"color\"\r\n            style={{background: color}}\r\n            key={color}\r\n            onClick={() => changeColor(part, color)}>\r\n       </div>\r\n      ))}\r\n      { showPicker &&\r\n        <ChromePicker\r\n          className=\"chromePicker\"\r\n          disableAlpha={true}\r\n          color={(current[part] && current[part].color) || currentColor}\r\n\r\n          onChange={(color) => {\r\n            setCurrentColor(color.hex);\r\n            changeColor(part, color.hex);\r\n          }}\r\n        />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    partsData: state.partsData,\r\n    current: state.current\r\n  }),\r\n  dispatch => ({\r\n    changeColor: (part, color) => dispatch(changeColor(part, color)),\r\n  })\r\n)(ColorPicker)\r\n","import React from 'react';\r\nimport FacePartContainer from '../components/face-part-container'\r\nimport { connect } from 'react-redux'\r\nimport { changeColor } from '../reducers/preview'\r\nimport ColorPicker from '../components/color-picker'\r\n\r\nfunction Base({items, current, changeColor, selectPart, part, noColors}) {\r\n  if (!(items && items[part] && items[part].images && items[part].images.length)) return 'No items on this layer'\r\n  return (\r\n    <div>\r\n      { items[part].images.map(item => (\r\n        <FacePartContainer\r\n          active={current && current[part] && (current[part]._id === item._id)}\r\n          key={item._id}\r\n          id={item._id}\r\n          part={part}\r\n          url={item.value}\r\n          selectPart={selectPart}\r\n        />\r\n      )) }\r\n      <br/>\r\n      { !items[part].inheritColorFrom && <ColorPicker part={part} /> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    items: state.partsData,\r\n    current: state.current\r\n  }),\r\n  dispatch => ({\r\n    changeColor: (part, color) => dispatch(changeColor(part, color)),\r\n    selectPart: (_id, part) => dispatch({ type: 'SELECT_PART', payload: {_id, part} })\r\n  })\r\n)(Base)\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './main-tabs.scss'\r\nimport { Tab, TabList, TabPanel, Tabs } from 'react-tabs'\r\nimport Base from '../../face-parts/Base'\r\n\r\nfunction MainTabs({ PARTS, partsData }) {\r\n  if (!PARTS || !PARTS.length) {\r\n    return <div></div>\r\n  }\r\n  return (\r\n    <div className=\"MainTabs\">\r\n      <Tabs defaultIndex={0}>\r\n        <TabList>\r\n          {PARTS.map((part, index) => (\r\n            <Tab key={index}>{partsData[part].title}</Tab>\r\n          ))}\r\n        </TabList>\r\n\r\n        {PARTS.map((part, index) => (\r\n          <TabPanel key={index}>\r\n            <Base part={part}/>\r\n          </TabPanel>\r\n        ))}\r\n\r\n      </Tabs>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    PARTS: state.PARTS,\r\n    partsData: state.partsData\r\n  })\r\n)(MainTabs)\r\n","import React from 'react'\r\nimport './app-header.scss'\r\nimport { FaGrinTongue } from 'react-icons/fa'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction AppHeader(props) {\r\n  return (\r\n    <div className=\"AppHeader\">\r\n      <div className=\"logo\">\r\n        <Link to='/'>\r\n          <FaGrinTongue />\r\n          Avatar Maker\r\n        </Link>\r\n      </div>\r\n      <ul className=\"menu-items\">\r\n        {props.sets.map((set, index) => (\r\n          <li key={index}>\r\n            { (props.match && (props.match.params.setId === set._id)) ? (\r\n              <Link to={set._id} onClick={e => e.preventDefault()} className='disabled'>\r\n                {set.name}\r\n              </Link>\r\n            ) : (\r\n              <Link to={set._id}>\r\n                {set.name}\r\n              </Link>\r\n            ) }\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {\r\n        props.profile ? (\r\n          <div className=\"profile-name\">\r\n            {props.profile.email}\r\n          </div>\r\n        ) : (\r\n          <div className=\"signup-wrapper\">\r\n            <Link to='/signup'>\r\n              <button className=\"btn btn-info btn-sm\">SIGN UP</button>\r\n            </Link>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets,\r\n    profile: state.profile\r\n  })\r\n)(AppHeader)\r\n","import React from 'react'\r\nimport './app-menu.scss'\r\nimport { connect } from 'react-redux'\r\nimport { slide as Menu } from 'react-burger-menu'\r\nimport { Link } from 'react-router-dom'\r\nimport { FaSignInAlt, FaUserPlus, FaSignOutAlt } from 'react-icons/fa'\r\nimport { logOut } from '../../reducers/preview';\r\n\r\nfunction AppMenu(props) {\r\n\r\n  function logOut(e) {\r\n    e.preventDefault();\r\n    props.logOut();\r\n  }\r\n\r\n  return (\r\n    <div className=\"AppMenu\">\r\n      <Menu right width={ 280 }>\r\n        { props.profile ?\r\n          (\r\n            <React.Fragment>\r\n              <a id=\"logOut\" className=\"menu-item\" href=\"\" onClick={logOut}>\r\n                <FaSignOutAlt />&nbsp;<span>Log out</span>\r\n              </a>\r\n            </React.Fragment>\r\n          ) :\r\n          (\r\n            <React.Fragment>\r\n              <Link id=\"signUp\" className=\"menu-item\" to=\"/signup\">\r\n                <FaUserPlus />&nbsp;<span>Sign Up</span>\r\n              </Link>\r\n              <Link id=\"signIn\" className=\"menu-item\" to=\"/signin\">\r\n                <FaSignInAlt />&nbsp;<span>Log In</span>\r\n              </Link>\r\n            </React.Fragment>\r\n          )\r\n        }\r\n\r\n        <ul className=\"menu-items\">\r\n          {props.sets.map((set, index) => (\r\n            <li key={index}>\r\n              { (props.match && (props.match.params.setId === set._id)) ? (\r\n                <Link to={set._id} onClick={e => e.preventDefault()} className='disabled'>\r\n                  {set.name}\r\n                </Link>\r\n              ) : (\r\n                <Link to={set._id}>\r\n                  {set.name}\r\n                </Link>\r\n              ) }\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </Menu>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets,\r\n    profile: state.profile\r\n  }),\r\n  {\r\n    logOut\r\n  }\r\n)(AppMenu)\r\n","import React, {useEffect} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport './avatar-page.scss'\r\n\r\nimport Preview from '../../components/preview'\r\nimport ButtonActions from '../../components/button-actions'\r\nimport { getSets, loadFaceParts } from '../../reducers/preview'\r\nimport MainTabs from '../../components/main-tabs'\r\nimport AppHeader from '../../components/app-header'\r\nimport AppMenu from '../../components/app-menu'\r\n\r\n\r\nfunction AvatarPage(props) {\r\n\r\n  useEffect(() => {\r\n    props.getSets().then(response => {\r\n      if (!props.match.params.setId) {\r\n        props.history.push(response.data[0]._id);\r\n      }\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.match.params.setId) {\r\n      props.loadFaceParts(props.match.params.setId);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.match.params.setId]);\r\n\r\n  return (\r\n    <div className=\"AvatarPage\">\r\n      <AppMenu match={props.match}/>\r\n      <AppHeader match={props.match}/>\r\n      <aside className=\"App-left-col\">\r\n        <div className=\"left-col-container\">\r\n          <Preview setId={props.match.params.setId}/>\r\n          <br/>\r\n          <ButtonActions setId={props.match.params.setId}/>\r\n        </div>\r\n      </aside>\r\n      <main className=\"App-main\">\r\n        <MainTabs />\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  }),\r\n  {\r\n    loadFaceParts,\r\n    getSets\r\n  }\r\n)(AvatarPage)\r\n","import React, {useEffect} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getSets, login } from '../../reducers/preview'\r\nimport './signup-page.scss'\r\nimport { Link } from \"react-router-dom\";\r\nimport face from './face.png';\r\nimport classNames from 'classnames';\r\nimport backend from '../../services/backend'\r\nimport { toast } from 'react-toastify';\r\nimport SignupForm from '../signup-form';\r\n\r\nimport AppHeader from '../../components/app-header'\r\nimport AppMenu from '../../components/app-menu'\r\n\r\n\r\n\r\nfunction SignupPage(props) {\r\n\r\n  function onSuccessFacebookLogin(res) {\r\n      props.history.push('/');\r\n  }\r\n  function onSuccessGoogleLogin(res) {\r\n    props.history.push('/');\r\n  }\r\n  function onSuccessEmailLogin(res) {\r\n    props.history.push('/');\r\n  }\r\n\r\n  return (\r\n    <div className=\"SignupPage\">\r\n      <AppHeader />\r\n      <AppMenu />\r\n      <div className=\"wrapper\">\r\n        <div className=\"left-col\">\r\n          <img src={face} alt=\"\"/>\r\n        </div>\r\n        <div className=\"right-col\">\r\n          <div className=\"form-wrapper\">\r\n            <SignupForm\r\n              place=\"page\"\r\n              onSuccessFacebookLogin={onSuccessFacebookLogin}\r\n              onSuccessGoogleLogin={onSuccessGoogleLogin}\r\n              onSuccessEmailLogin={onSuccessEmailLogin}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  }),\r\n  {\r\n    getSets,\r\n    login\r\n  }\r\n)(SignupPage)\r\n","import React, {useEffect} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getSets, login } from '../../reducers/preview'\r\nimport './signin-page.scss'\r\nimport { Link } from \"react-router-dom\";\r\nimport face from './face.png';\r\nimport { Formik } from 'formik';\r\nimport { required, email, minLength } from '../../services/validations';\r\nimport backend from '../../services/backend'\r\n\r\nimport classNames from 'classnames';\r\n\r\nimport AppHeader from '../../components/app-header'\r\nimport AppMenu from '../../components/app-menu'\r\nimport SocialLogin from '../social-login/SocialLogin'\r\nimport SigninForm from '../signin-form';\r\nimport SignupForm from '../signup-form/SignupForm'\r\n\r\n\r\nconst initialValues = {\r\n  email: '',\r\n  password: ''\r\n};\r\n\r\nconst validate = values => {\r\n  let errors = {};\r\n  let emailError = required(values.email) || email(values.email);\r\n  if (emailError) {\r\n    errors.email = emailError;\r\n  }\r\n  let passwordError = required(values.password) || minLength(values.password, 6);\r\n  if (passwordError) {\r\n    errors.password = passwordError;\r\n  }\r\n  return errors\r\n};\r\n\r\n\r\nfunction SigninPage(props) {\r\n\r\n  function onSuccessFacebookLogin(res) {\r\n    props.history.push('/');\r\n  }\r\n  function onSuccessGoogleLogin(res) {\r\n    props.history.push('/');\r\n  }\r\n  function onSuccessEmailLogin(res) {\r\n    props.history.push('/');\r\n  }\r\n\r\n  return (\r\n    <div className=\"SigninPage\">\r\n      <AppHeader />\r\n      <AppMenu />\r\n      <div className=\"wrapper\">\r\n        <div className=\"left-col\">\r\n          <img src={face} alt=\"\"/>\r\n        </div>\r\n        <div className=\"right-col\">\r\n          <div className=\"form-wrapper\">\r\n            <SigninForm\r\n              place=\"page\"\r\n              onSuccessFacebookLogin={onSuccessFacebookLogin}\r\n              onSuccessGoogleLogin={onSuccessGoogleLogin}\r\n              onSuccessEmailLogin={onSuccessEmailLogin}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    sets: state.sets\r\n  }),\r\n  {\r\n    getSets,\r\n    login\r\n  }\r\n)(SigninPage)\r\n","import React from 'react';\nimport { HashRouter as Router, Route, Switch, matchPath } from \"react-router-dom\";\n\nimport \"react-tabs/style/react-tabs.css\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.scss';\nimport AvatarPage from './components/avatar-page'\nimport SignupPage from './components/signup-page'\nimport SigninPage from './components/signin-page'\nimport { connect } from 'react-redux'\nimport { getProfileInfo } from './reducers/preview'\n\nclass App extends React.Component {\n\n  constructor(props) {\n    props.getProfileInfo();\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <ToastContainer autoClose={4000} hideProgressBar={true}/>\n        {/*<Router basename={process.env.REACT_APP_ROUTER_BASE_URL || ''}>*/}\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact component={AvatarPage} />\n            <Route path=\"/signup\" exact component={SignupPage} />\n            <Route path=\"/signin\" exact component={SigninPage} />\n            <Route path=\"/:setId\" exact component={AvatarPage} />\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(\n  null,\n  {\n    getProfileInfo\n  }\n)(App)\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport reducer from './reducers/preview'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\nimport ReduxThunk from 'redux-thunk'\n\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(ReduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}