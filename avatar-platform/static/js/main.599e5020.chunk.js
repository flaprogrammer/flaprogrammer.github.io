(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/face.2c39ddd4.png"},148:function(e,t,a){e.exports=a.p+"static/media/face.6721bc4f.png"},153:function(e,t,a){e.exports=a(399)},180:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},202:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(24),c=a.n(o),i=a(5),l=a(36),s=a(34),u=a(8),m=a(89),p=document.createElement("canvas"),d=p.getContext("2d"),f=600,g=600;p.width=f,p.height=g;var E=function(e,t){return new Promise(function(a,n){var r=document.createElement("img");r.src=e,r.onload=function(){d.clearRect(0,0,p.width,p.height),d.drawImage(r,0,0,p.width,p.height),function(e,t){d.imageSmoothingQuality="medium",d.globalCompositeOperation="source-atop",d.fillStyle=e,d.fillRect(0,0,p.width,p.height),d.globalCompositeOperation="multiply"}(t),d.drawImage(r,0,0,p.width,p.height),a(p.toDataURL("image/png",.7))}})},h=a(59),b=a(60),v=a(90),S=a.n(v),O="http://185.181.8.53:3001/",w=null,_=new(function(){function e(){var t=this;if(Object(h.a)(this,e),this.authAxios=null,this.axiosInstance=null,this.token=null,this.signup=function(e){return t.axiosInstance.post(O+"auth/sign-up",e)},this.signupFacebook=function(e){return new Promise(function(a,n){t.axiosInstance.post(O+"auth/facebook",e).then(function(e){t.setAxiosInstance(e.data.token),localStorage.setItem("token",e.data.token),a(e)}).catch(function(e){return n(e)})})},this.signupGoogle=function(e){return new Promise(function(a,n){t.axiosInstance.post(O+"auth/google",e).then(function(e){console.log(e),t.setAxiosInstance(e.data.token),localStorage.setItem("token",e.data.token),a(e)}).catch(function(e){return n(e)})})},this.signin=function(e){return new Promise(function(a,n){return t.axiosInstance.post(O+"auth/login",e).then(function(e){t.setAxiosInstance(e.data.token),localStorage.setItem("token",e.data.token),a(e)}).catch(function(e){return n(e)})})},this.getProfileInfo=function(){return t.authAxios.get(O+"profile/info")},this.getFaceParts=function(e){return t.axiosInstance.get(O+"face-parts/"+e)},this.getSets=function(){return t.axiosInstance.get(O+"face-parts/sets")},this.login=function(e){return t.axiosInstance.post(O+"face-parts/login",e)},this.saveImage=function(e,a){return t.axiosInstance({url:O+"save-image/"+e,method:"GET",responseType:"blob",params:{data:a}})},this.logOut=function(){t.token=null,localStorage.removeItem("token")},!w){w=this;var a=localStorage.getItem("token");console.log(a),a&&(this.token=a),this.setAxiosInstance(a)}return w}return Object(b.a)(e,[{key:"setAxiosInstance",value:function(e){this.axiosInstance=S.a.create({baseURL:O,headers:{"Content-Type":"application/json"}}),this.authAxios=S.a.create({baseURL:O,headers:{Authorization:"jwt "+e,"Content-Type":"application/json"}})}}]),e}()),A=a(64),I=a(136);var y=function(){return function(e){return e({type:"GET_SETS_REQUEST"}),new Promise(function(t){_.getSets().then(function(a){e({type:"GET_SETS_SUCCESS",payload:a}),t(a)}).catch(function(t){e({type:"GET_SETS_FAILURE",payload:t})})})}},N=function(e,t){return function(a){a({type:"LOGIN_REQUEST"});var n=_.signin;return"facebook"===t&&(n=_.signupFacebook),"google"===t&&(n=_.signupGoogle),n(e).then(function(e){a({type:"LOGIN_SUCCESS",payload:e})}).catch(function(e){a({type:"LOGIN_FAILURE",payload:e})})}},C=function(e,t){return function(a,n){var r=[];n().partsDataOriginal.forEach(function(t,a){t.inheritColorFrom===n().partsDataOriginal[e]._id&&r.push(a)}),n().partsDataOriginal[e].images.forEach(function(n){E(n.value,t).then(function(r){a({type:"SET_COLOR",payload:{_id:n._id,part:e,value:r,color:t}})})}),r.forEach(function(e){n().partsDataOriginal[e].images.forEach(function(n){E(n.value,t).then(function(r){a({type:"SET_COLOR",payload:{_id:n._id,part:e,value:r,color:t}})})})})}},L=Object(m.a)(function(e){return e.partsData},function(e){return e.current},function(e,t){for(var a=Object.entries(e),n=[],r=function(e){var r=a[e][0];if(!t[r])return"continue";var o=a[e][1].images.find(function(e){return e._id===t[r]._id});n.push({zIndex:a[e][1].zIndex,value:o})},o=0;o<a.length;o++)r(o);return n=(n=n.sort(function(e,t){return e.zIndex-t.zIndex})).map(function(e){return e.value&&e.value.value})}),P=Object(m.a)(function(e){return e.partsData},function(e){if(!e)return!0;for(var t in e)for(var a=0;a<e[t].images.length;a++)if(e[t].images[a].isLoading)return!0;return!1}),k=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(n.type)?t[n.type](a,n):a}}({profile:null,partsDataOriginal:{},partsData:{},PARTS:[],PARTS_WITH_COLORS:[],partSprites:[],previewIsLoading:!1,facePartsAreLoading:!0,savingIsLoading:!1,sets:[],hiddenParts:[],conflicts:{},current:{}},{SELECT_PART:function(e,t){var a=t.payload,n=a._id,r=a.part,o=a.randomized,c=Object.assign({},e.current),i=e.partsData[r]._id;return!o&&e.conflicts[i]&&e.conflicts[i].forEach(function(t){for(var a in e.partsData)e.partsData[a]._id===t&&c[a]&&(c[a]._id="transparent")}),Object(u.a)({},e,{current:Object(u.a)({},c,Object(s.a)({},r,Object(u.a)({},e.current[r],{_id:n})))})},SET_COLOR_START:function(e,t){var a=t.payload.part,n=Object.assign({},e.partsData[a]);return n.images&&n.images.forEach(function(e){return e.isLoading=!0}),Object(u.a)({},e,{partsData:Object(u.a)({},e.partsData,Object(s.a)({},a,n))})},SET_COLOR:function(e,t){var a=t.payload,n=a._id,r=a.part,o=a.value,c=a.color,i=[].concat(e.partsData[r].images);return i.find(function(e){return e._id===n}).value=o,i.find(function(e){return e._id===n}).isLoading=!1,Object(u.a)({},e,{partsData:Object(u.a)({},e.partsData,Object(s.a)({},r,Object(u.a)({},e.partsData[r],{images:i}))),current:Object(u.a)({},e.current,Object(s.a)({},r,Object(u.a)({},e.current[r],{color:c})))})},GET_PROFILE_INFO_SUCCESS:function(e,t){var a=t.payload;return Object(u.a)({},e,{profile:a.data})},LOGIN_SUCCESS:function(e,t){var a=t.payload;return Object(u.a)({},e,{profile:a.data})},SIGNUP_SUCCESS:function(e,t){var a=t.payload;return Object(u.a)({},e,{profile:a.data})},LOGOUT:function(e){return Object(u.a)({},e,{profile:null})},SET_PREVIEW_IS_LOADING:function(e,t){var a=t.value;return Object(u.a)({},e,{previewIsLoading:a})},GET_SETS_SUCCESS:function(e,t){var a=t.payload;return Object(u.a)({},e,{sets:a.data})},LOAD_FACE_PARTS_REQUEST:function(e,t){t.payload;return Object(u.a)({},e,{current:{},partsDataOriginal:{},partsData:{},PARTS:[],PARTS_WITH_COLORS:[],facePartsAreLoading:!0})},LOAD_FACE_PARTS_SUCCESS:function(e,t){var a=t.payload,n=Object(A.cloneDeep)(a.data),r=Object.assign({},e.current),o={};return n.forEach(function(e,t){e.images.unshift({_id:"transparent",value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}),e.images.forEach(function(e){e.isLoading=!1}),e.conflictsWith.length&&(o[e._id]?o[e._id].concat(e.conflictsWith):o[e._id]=e.conflictsWith,o[e._id]=e.conflictsWith,e.conflictsWith.forEach(function(t){o[t]?o[t].push(e._id):o[t]=[e._id]})),e.showOnStart?r[t]={_id:e.images[1]._id}:r[t]={_id:"transparent"}}),Object(u.a)({},e,{conflicts:o,partsData:n,partsDataOriginal:Object(A.cloneDeep)(n),PARTS:Object.keys(a.data),PARTS_WITH_COLORS:Object.keys(Object(A.pickBy)(a.data,function(e){return e.colors&&e.colors.length})),facePartsAreLoading:!1,current:r})},SAVE_IMAGE_REQUEST:function(e){return Object(u.a)({},e,{savingIsLoading:!0})},SAVE_IMAGE_SUCCESS:function(e){return Object(u.a)({},e,{savingIsLoading:!1})}}),j=(a(180),a(151)),T=a(137),R=a(152),D=a(10),F=a(33),U=(a(181),a(32));a(182),a(183),a(184),a(185);function G(e){var t=e.width,a=void 0===t?300:t,n=e.height,o=void 0===n?300:n;return r.a.createElement("div",{className:"spinner",style:{width:a,height:o}},"Loading...")}var x=a(6),M=a.n(x);a(186);var B=Object(i.b)(function(e){return{items:L(e),current:e.current,previewIsLoading:e.facePartsAreLoading||P(e)||e.savingIsLoading}})(function(e){var t=e.items,a=e.previewIsLoading;return e.setId,r.a.createElement("div",{className:M()("Preview",a&&"isLoading")},r.a.createElement("div",{className:"images"},t.map(function(e,t){return r.a.createElement("div",{className:"img",style:{backgroundImage:"url("+e+")"},key:t,alt:""})})),r.a.createElement(G,null))}),W=a(26),Q=(a(187),a(19)),V=(a(188),a(37)),z=a.n(V);function H(e){return r.a.createElement(z.a,{isOpen:e.isOpen,onRequestClose:e.closeModal,className:"download-success-modal"},r.a.createElement("h4",null,"Great! Your download has been successful!"),r.a.createElement("img",{className:"modal-image",src:e.imgBase64,alt:""}),r.a.createElement("h6",null,"If you want to download images in high quality, you can ",r.a.createElement("strong",null,"become premium")))}z.a.setAppElement("#root");a(196),a(197);var Y=a(42);function q(e){if(!e)return"Field is required"}function Z(e,t){if(e.length<t)return"Min length have to be ".concat(t)}function J(e){if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e))return"Invalid email address"}a(202);var K=a(140),$=a(141),X=a.n($),ee=a(142);var te=Object(i.b)(function(e){return{profile:e.profile}},{login:N})(function(e){return r.a.createElement("div",{className:"SocialLogin"},e.profile?r.a.createElement("div",null,"You are logged in as ",e.profile.email):r.a.createElement("div",null,r.a.createElement(K.GoogleLogin,{clientId:"546998968320-0cn7qut7aklej8akfljup6hi9a7najba.apps.googleusercontent.com",buttonText:"Sign in with Google",responseType:"token",onSuccess:function(t){console.log(t),e.onSuccessGoogleLogin({access_token:t.accessToken})},onFailure:function(e){return console.log(e)}}),r.a.createElement(X.a,{appId:"375214849866140",callback:function(t){console.log(t),e.onSuccessFacebookLogin({access_token:t.accessToken})},render:function(e){return r.a.createElement("button",{className:"fb-button",onClick:e.onClick},r.a.createElement(ee.a,null),"Sign in with Facebook")}})))}),ae={email:"",password:"",repeatPassword:""},ne=function(e){var t={},a=q(e.email)||J(e.email);a&&(t.email=a);var n=q(e.password)||Z(e.password,6);n&&(t.password=n);var r=q(e.repeatPassword)||function(e,t){if(e!==t)return"Passwords does not match"}(e.repeatPassword,e.password);return r&&(t.repeatPassword=r),t};var re=Object(i.b)(function(e){return{sets:e.sets}},{getSets:y,login:N,signup:function(e){return function(t){return t({type:"SIGNUP_REQUEST"}),_.signup(e).then(function(e){t({type:"SIGNUP_SUCCESS",payload:e})}).catch(function(e){t({type:"SIGNUP_FAILURE",payload:e})})}}})(function(e){return r.a.createElement("div",{className:M()("SignupForm","place-"+e.place)},"modal"===e.place&&r.a.createElement("h5",{className:"title"},"Please sign up to download"),"page"===e.place&&r.a.createElement("h5",{className:"title"},"Sign Up"),r.a.createElement(te,{onSuccessFacebookLogin:function(t){e.login(t,"facebook").then(function(){_.getProfileInfo().then(function(){e.onSuccessFacebookLogin()})})},onSuccessGoogleLogin:function(t){e.login(t,"google").then(function(t){_.getProfileInfo().then(function(){e.onSuccessGoogleLogin()})})}}),r.a.createElement(Y.a,{initialValues:ae,validate:ne,validateOnChange:!0,onSubmit:function(t,a){var n=a.setSubmitting;e.signup(t).then(function(t){e.onSuccessEmailLogin()}).catch(function(e){U.b.error("Unexpected error. Try again later.")}).finally(function(){return n(!1)})}},function(t){var a=t.values,n=t.errors,o=t.touched,c=t.isSubmitting,i=t.handleChange,l=t.handleBlur,s=t.handleSubmit;return r.a.createElement("form",{onSubmit:s},r.a.createElement("div",{className:"control form-group"},r.a.createElement("label",{htmlFor:"email",className:"label"},"Email"),r.a.createElement("input",{id:"email",name:"email",type:"text",value:a.email,placeholder:"Email",onChange:i,onBlur:l,className:M()("input form-control",o.email&&n.email&&"error")}),o.email&&n.email&&r.a.createElement("div",{className:"error-message"},n.email)),r.a.createElement("div",{className:"control form-group"},r.a.createElement("label",{htmlFor:"password",className:"label"},"Password"),r.a.createElement("input",{id:"password",name:"password",type:"password",value:a.password,placeholder:"Password",onChange:i,className:M()("input form-control",o.password&&n.password&&"error")}),o.password&&n.password&&r.a.createElement("div",{className:"error-message"},n.password)),r.a.createElement("div",{className:"control form-group"},r.a.createElement("label",{htmlFor:"repeatPassword",className:"label"},"Repeat your password"),r.a.createElement("input",{id:"repeatPassword",name:"repeatPassword",type:"password",value:a.repeatPassword,placeholder:"Repeat your password",onChange:i,className:M()("input form-control",o.password&&n.password&&"error")}),o.repeatPassword&&n.repeatPassword&&r.a.createElement("div",{className:"error-message"},n.repeatPassword)),r.a.createElement("div",{className:"control form-group"},r.a.createElement("input",{type:"submit",value:"Sign Up",disabled:c,className:"submit btn btn-block btn-lg btn-primary"})),r.a.createElement("div",{className:"signin"},"page"===e.place?r.a.createElement(D.b,{to:"signin"},"Already have an account? Sign in now!"):r.a.createElement("a",{href:"",onClick:function(t){t.preventDefault(),e.onSignInClick()}},"Already have an account? Sign in now!")))}))}),oe=(a(214),{email:"",password:""}),ce=function(e){var t={},a=q(e.email)||J(e.email);a&&(t.email=a);var n=q(e.password)||Z(e.password,6);return n&&(t.password=n),t};var ie=Object(i.b)(function(e){return{sets:e.sets}},{getSets:y,login:N})(function(e){return console.log(e),r.a.createElement("div",{className:"SigninForm"},"modal"===e.place&&r.a.createElement("h5",{className:"title"},"Please sign in to download"),"page"===e.place&&r.a.createElement("h5",{className:"title"},"Sign In"),r.a.createElement(te,{onSuccessFacebookLogin:function(t){e.login(t,"facebook").then(function(){_.getProfileInfo().then(function(){e.onSuccessFacebookLogin()})})},onSuccessGoogleLogin:function(t){e.login(t,"google").then(function(){_.getProfileInfo().then(function(){e.onSuccessGoogleLogin()})})}}),r.a.createElement(Y.a,{initialValues:oe,validate:ce,validateOnChange:!0,onSubmit:function(t,a){var n=a.setSubmitting;e.login(t).then(function(t){e.onSuccessEmailLogin()}).catch(function(){U.b.error("Unexpected error. Try again later.")}).finally(function(){return n(!1)})}},function(t){var a=t.values,n=t.errors,o=t.touched,c=t.isSubmitting,i=t.handleChange,l=t.handleBlur,s=t.handleSubmit;return r.a.createElement("form",{onSubmit:s},r.a.createElement("div",{className:"control form-group"},r.a.createElement("label",{htmlFor:"email",className:"label"},"Email"),r.a.createElement("input",{id:"email",name:"email",type:"text",value:a.email,placeholder:"Email",onChange:i,onBlur:l,className:M()("input form-control",o.email&&n.email&&"error")}),o.email&&n.email&&r.a.createElement("div",{className:"error-message"},n.email)),r.a.createElement("div",{className:"control form-group"},r.a.createElement("label",{htmlFor:"password",className:"label"},"Password"),r.a.createElement("input",{id:"password",name:"password",type:"password",value:a.password,placeholder:"Password",onChange:i,className:M()("input form-control",o.password&&n.password&&"error")}),o.password&&n.password&&r.a.createElement("div",{className:"error-message"},n.password)),r.a.createElement("div",{className:"control form-group"},r.a.createElement("input",{type:"submit",value:"Sign In",disabled:c,className:"submit btn btn-block btn-lg btn-primary"})),r.a.createElement("div",{className:"signup"},"page"===e.place?r.a.createElement(D.b,{to:"signup"},"New to Avatar Maker? Sign up now!"):r.a.createElement("a",{href:"",onClick:function(t){t.preventDefault(),e.onSignUpClick()}},"New to Avatar Maker? Sign up now!")))}))});z.a.setAppElement("#root");var le=Object(i.b)(function(e){return{profile:e.profile}})(function(e){var t=Object(n.useState)(!0),a=Object(W.a)(t,2),o=a[0],c=a[1];function i(){}function l(){}function s(){}return Object(n.useEffect)(function(){e.profile&&e.isOpen&&e.onDownload()},[e.profile,e.isOpen]),r.a.createElement(z.a,{isOpen:e.isOpen,onRequestClose:e.closeModal,className:"download-modal"},r.a.createElement("div",null,e.profile?r.a.createElement("div",{className:"isDownloading"},r.a.createElement("div",{className:"email"},"You are logged in as ",e.profile.email),r.a.createElement("p",null,"Downloading...",r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement(G,{width:100,height:100})))):o?r.a.createElement(ie,{place:"modal",onSignUpClick:function(){return c(!1)},onSuccessFacebookLogin:i,onSuccessGoogleLogin:l,onSuccessEmailLogin:s}):r.a.createElement(re,{place:"modal",onSignInClick:function(){return c(!0)},onSuccessFacebookLogin:i,onSuccessGoogleLogin:l,onSuccessEmailLogin:s})))});var se=Object(i.b)(function(e){return{savingIsLoading:e.savingIsLoading,previewIsLoading:e.facePartsAreLoading||P(e)}},function(e){return{randomizeFace:function(){return e(function(e,t){var a=[].concat(t().PARTS).sort(function(){return Math.random()-.5}),n={};a.forEach(function(a){if(t().partsData[a].images.length){if(Object.values(n).reduce(function(e,t){return e.concat(t)},[]).includes(t().partsData[a]._id))return e({type:"SELECT_PART",payload:{_id:"transparent",part:a,randomized:!0}});if(t().PARTS_WITH_COLORS.includes(a)){var r=Math.floor(255*Math.random()).toString(16).padStart(2,"0"),o=Math.floor(255*Math.random()).toString(16).padStart(2,"0"),c=Math.floor(255*Math.random()).toString(16).padStart(2,"0");e(C(a,"#"+r+o+c)),e({type:"SET_COLOR_START",payload:{part:a}})}var i=Math.floor(Math.random()*(t().partsData[a].images.length-1))+1,l=t().partsData[a].images[i]._id;e({type:"SELECT_PART",payload:{_id:l,part:a,randomized:!0}}),n[a]=t().conflicts[t().partsData[a]._id]}})})},saveImage:function(t){return e(function(e){return function(t,a){var n=a().current;return t({type:"SAVE_IMAGE_REQUEST"}),new Promise(function(a,r){_.saveImage(e,n).then(function(e){Object(I.saveAs)(new Blob([e.data]),"image"+Math.floor(1e5*Math.random()+1)+".png"),t({type:"SAVE_IMAGE_SUCCESS",payload:e}),a(e)}).catch(function(e){t({type:"SAVE_IMAGE_FAILURE",payload:e}),r(e)})})}}(t))}}})(function(e){var t=Object(n.useState)(!1),a=Object(W.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(W.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(null),p=Object(W.a)(m,2),d=p[0],f=p[1];return r.a.createElement("div",{className:"ButtonActions"},r.a.createElement("button",{className:"btn btn-primary btn-wide mb-2",onClick:e.randomizeFace,disabled:e.savingIsLoading||e.previewIsLoading},r.a.createElement(Q.d,null),"\xa0",r.a.createElement("span",{className:"button-text"},"Random")),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-primary btn-wide",onClick:function(){return u(!0)},disabled:e.savingIsLoading||e.previewIsLoading},r.a.createElement(Q.a,null),"\xa0",r.a.createElement("span",{className:"button-text"},"Download")),r.a.createElement(le,{isOpen:s,closeModal:function(){return u(!1)},onDownload:function(){e.saveImage(e.setId).then(function(e){var t=new FileReader;t.readAsDataURL(e.data),t.onloadend=function(){var e=t.result;f(e),c(!0),u(!1)}})}}),r.a.createElement(H,{isOpen:o,closeModal:function(){return c(!1)},imgBase64:d}))}),ue=(a(215),a(44));a(216);function me(e){var t=e.id,a=e.active,n=e.part,o=e.url,c=e.selectPart;return r.a.createElement("div",{className:M()("FacePartContainer",a&&"active"),onClick:function(){return c(t,n)}},r.a.createElement("img",{src:o,alt:""}))}a(217);var pe=a(145);var de=Object(i.b)(function(e){return{partsData:e.partsData,current:e.current}},function(e){return{changeColor:function(t,a){return e(C(t,a))}}})(function(e){var t=e.part,a=e.changeColor,o=e.partsData,c=e.current,i=Object(n.useState)(!1),l=Object(W.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(c[t]&&c[t].color||"#ffffff"),p=Object(W.a)(m,2),d=p[0],f=p[1],g=o[t].colors,E=function(){u(!1)};return Object(n.useEffect)(function(){return window.addEventListener("click",E,!1),function(){window.removeEventListener("click",E)}},[]),g&&g.length?r.a.createElement("div",{className:"ColorPicker",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"color color-pipette",onClick:function(){u(!s)},style:{backgroundColor:c[t]&&c[t].color||d}},r.a.createElement(Q.b,null)),g.map(function(e){return r.a.createElement("div",{className:"color",style:{background:e},key:e,onClick:function(){return a(t,e)}})}),s&&r.a.createElement(pe.ChromePicker,{className:"chromePicker",disableAlpha:!0,color:c[t]&&c[t].color||d,onChange:function(e){f(e.hex),a(t,e.hex)}})):null});var fe=Object(i.b)(function(e){return{items:e.partsData,current:e.current}},function(e){return{changeColor:function(t,a){return e(C(t,a))},selectPart:function(t,a){return e({type:"SELECT_PART",payload:{_id:t,part:a}})}}})(function(e){var t=e.items,a=e.current,n=(e.changeColor,e.selectPart),o=e.part;return e.noColors,t&&t[o]&&t[o].images&&t[o].images.length?r.a.createElement("div",null,t[o].images.map(function(e){return r.a.createElement(me,{active:a&&a[o]&&a[o]._id===e._id,key:e._id,id:e._id,part:o,url:e.value,selectPart:n})}),r.a.createElement("br",null),!t[o].inheritColorFrom&&r.a.createElement(de,{part:o})):"No items on this layer"});var ge=Object(i.b)(function(e){return{PARTS:e.PARTS,partsData:e.partsData}})(function(e){var t=e.PARTS,a=e.partsData;return t&&t.length?r.a.createElement("div",{className:"MainTabs"},r.a.createElement(ue.d,{defaultIndex:0},r.a.createElement(ue.b,null,t.map(function(e,t){return r.a.createElement(ue.a,{key:t},a[e].title)})),t.map(function(e,t){return r.a.createElement(ue.c,{key:t},r.a.createElement(fe,{part:e}))}))):r.a.createElement("div",null)});a(380);var Ee=Object(i.b)(function(e){return{sets:e.sets,profile:e.profile}})(function(e){return r.a.createElement("div",{className:"AppHeader"},r.a.createElement("div",{className:"logo"},r.a.createElement(D.b,{to:"/"},r.a.createElement(Q.c,null),"Avatar Maker")),r.a.createElement("ul",{className:"menu-items"},e.sets.map(function(t,a){return r.a.createElement("li",{key:a},e.match&&e.match.params.setId===t._id?r.a.createElement(D.b,{to:t._id,onClick:function(e){return e.preventDefault()},className:"disabled"},t.name):r.a.createElement(D.b,{to:t._id},t.name))})),e.profile?r.a.createElement("div",{className:"profile-name"},e.profile.email):r.a.createElement("div",{className:"signup-wrapper"},r.a.createElement(D.b,{to:"/signup"},r.a.createElement("button",{className:"btn btn-info btn-sm"},"SIGN UP"))))}),he=(a(381),a(146));var be=Object(i.b)(function(e){return{sets:e.sets,profile:e.profile}},{logOut:function(){return function(e){_.logOut(),e({type:"LOGOUT"})}}})(function(e){return r.a.createElement("div",{className:"AppMenu"},r.a.createElement(he.slide,{right:!0,width:280},e.profile?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{id:"logOut",className:"menu-item",href:"",onClick:function(t){t.preventDefault(),e.logOut()}},r.a.createElement(Q.f,null),"\xa0",r.a.createElement("span",null,"Log out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(D.b,{id:"signUp",className:"menu-item",to:"/signup"},r.a.createElement(Q.g,null),"\xa0",r.a.createElement("span",null,"Sign Up")),r.a.createElement(D.b,{id:"signIn",className:"menu-item",to:"/signin"},r.a.createElement(Q.e,null),"\xa0",r.a.createElement("span",null,"Log In"))),r.a.createElement("ul",{className:"menu-items"},e.sets.map(function(t,a){return r.a.createElement("li",{key:a},e.match&&e.match.params.setId===t._id?r.a.createElement(D.b,{to:t._id,onClick:function(e){return e.preventDefault()},className:"disabled"},t.name):r.a.createElement(D.b,{to:t._id},t.name))}))))});var ve=Object(i.b)(function(e){return{sets:e.sets}},{loadFaceParts:function(e){return function(t){t({type:"LOAD_FACE_PARTS_REQUEST"}),_.getFaceParts(e).then(function(e){t({type:"LOAD_FACE_PARTS_SUCCESS",payload:e})}).catch(function(e){t({type:"LOAD_FACE_PARTS_FAILURE",payload:e})})}},getSets:y})(function(e){return Object(n.useEffect)(function(){e.getSets().then(function(t){e.match.params.setId||e.history.push(t.data[0]._id)})},[]),Object(n.useEffect)(function(){e.match.params.setId&&e.loadFaceParts(e.match.params.setId)},[e.match.params.setId]),r.a.createElement("div",{className:"AvatarPage"},r.a.createElement(be,{match:e.match}),r.a.createElement(Ee,{match:e.match}),r.a.createElement("aside",{className:"App-left-col"},r.a.createElement("div",{className:"left-col-container"},r.a.createElement(B,{setId:e.match.params.setId}),r.a.createElement("br",null),r.a.createElement(se,{setId:e.match.params.setId}))),r.a.createElement("main",{className:"App-main"},r.a.createElement(ge,null)))}),Se=(a(397),a(147)),Oe=a.n(Se);var we=Object(i.b)(function(e){return{sets:e.sets}},{getSets:y,login:N})(function(e){return r.a.createElement("div",{className:"SignupPage"},r.a.createElement(Ee,null),r.a.createElement(be,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"left-col"},r.a.createElement("img",{src:Oe.a,alt:""})),r.a.createElement("div",{className:"right-col"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement(re,{place:"page",onSuccessFacebookLogin:function(t){e.history.push("/")},onSuccessGoogleLogin:function(t){e.history.push("/")},onSuccessEmailLogin:function(t){e.history.push("/")}})))))}),_e=(a(398),a(148)),Ae=a.n(_e);var Ie=Object(i.b)(function(e){return{sets:e.sets}},{getSets:y,login:N})(function(e){return r.a.createElement("div",{className:"SigninPage"},r.a.createElement(Ee,null),r.a.createElement(be,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"left-col"},r.a.createElement("img",{src:Ae.a,alt:""})),r.a.createElement("div",{className:"right-col"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement(ie,{place:"page",onSuccessFacebookLogin:function(t){e.history.push("/")},onSuccessGoogleLogin:function(t){e.history.push("/")},onSuccessEmailLogin:function(t){e.history.push("/")}})))))}),ye=function(e){function t(e){return Object(h.a)(this,t),e.getProfileInfo(),Object(j.a)(this,Object(T.a)(t).call(this,e))}return Object(R.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(U.a,{autoClose:4e3,hideProgressBar:!0}),r.a.createElement(D.a,null,r.a.createElement(F.c,null,r.a.createElement(F.a,{path:"/",exact:!0,component:ve}),r.a.createElement(F.a,{path:"/signup",exact:!0,component:we}),r.a.createElement(F.a,{path:"/signin",exact:!0,component:Ie}),r.a.createElement(F.a,{path:"/:setId",exact:!0,component:ve}))))}}]),t}(r.a.Component),Ne=Object(i.b)(null,{getProfileInfo:function(){return function(e){if(_.token)return e({type:"GET_PROFILE_INFO_REQUEST"}),new Promise(function(t){_.getProfileInfo().then(function(a){e({type:"GET_PROFILE_INFO_SUCCESS",payload:a}),t(a)}).catch(function(t){e({type:"GET_PROFILE_INFO_FAILURE",payload:t})})})}}})(ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=a(149),Le=a(150),Pe=Object(l.createStore)(k,Object(Ce.composeWithDevTools)(Object(l.applyMiddleware)(Le.a)));c.a.render(r.a.createElement(i.a,{store:Pe},r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[153,1,2]]]);
//# sourceMappingURL=main.599e5020.chunk.js.map