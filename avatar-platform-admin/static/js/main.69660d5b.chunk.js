(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((n=a(300))&&n.__esModule?n:{default:n}).default;t.default=r},210:function(e,t,a){e.exports=a(566)},215:function(e,t,a){},219:function(e,t,a){},239:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPickerField=t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(0)),r=s(a(149)),l=s(a(303)),o=s(a(304)),i=s(a(59)),c=a(375),u=s(a(376));function s(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var f=function(e){e.defaultValue;var t=e.onChange,a=e.convert,r=e.name,l=e.id,o=e.hintText,s=e.placeholder,m=e.floatingLabelText,f=e.label,p=e.TextFieldProps,g=e.value,v=e.showPicker,b=e.setShowPicker,h=e.internalValue,E=e.setValue;return n.default.createElement(n.Fragment,null,n.default.createElement(i.default,d({name:r,id:l,value:void 0===g?h:g,label:m||f,placeholder:o||s,onClick:function(){return b(!0)},onChange:function(e){E(e.target.value),t(e.target.value)},InputProps:{style:{color:void 0===g?h:g}}},p)),v&&n.default.createElement(u.default,{value:void 0===g?h:g,onClick:function(){b(!1),t(g)},onChange:function(e){var n=c.converters[a](e);E(n),t(n)}}))};f.propTypes={value:r.default.string,onChange:r.default.func,convert:r.default.oneOf(Object.keys(c.converters)),defaultValue:r.default.string,name:r.default.string,id:r.default.string,hintText:r.default.string,placeholder:r.default.string,label:r.default.string,floatingLabelText:r.default.string,TextFieldProps:r.default.shape(i.default.propTypes),showPicker:r.default.bool,setShowPicker:r.default.func,internalValue:r.default.string,setValue:r.default.func},f.defaultProps={convert:c.DEFAULT_CONVERTER};var p=(0,l.default)((0,o.default)("showPicker","setShowPicker",!1),(0,o.default)("internalValue","setValue",function(e){return e.defaultValue}))(f),g=function(e){var t=e.input,a=t.value,r=t.onChange,l=m(t,["value","onChange"]),o=e.meta,i=o.touched,c=o.error,u=m(e,["input","meta"]);return n.default.createElement(p,d({value:a,onChange:r,errorText:i&&c},l,u))};t.ColorPickerField=g,g.propTypes={input:r.default.object,meta:r.default.object};var v=p;t.default=v},375:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.converters=t.DEFAULT_CONVERTER=void 0;t.DEFAULT_CONVERTER="rgba_hex";var n={rgba:function(e){return"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")},rgb:function(e){return"rgb(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,")")},hex:function(e){return e.hex},rgba_rgb:function(e){return 1===e.rgb.a?n.rgb(e):n.rgba(e)},rgba_hex:function(e){return 1===e.rgb.a?n.hex(e):n.rgba(e)}};t.converters=n;var r=n;t.default=r},376:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(0)),r=o(a(149)),l=a(377);function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.value,a=e.onClick,r=e.onChange;return n.default.createElement("div",{style:{position:"absolute",zIndex:"2"}},n.default.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:a}),n.default.createElement(l.ChromePicker,{disableAlpha:!0,color:t,onChange:r}))};i.propTypes={value:r.default.string,onChange:r.default.func,onClick:r.default.func};var c=i;t.default=c},555:function(e,t,a){},556:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),i=(a(215),a(197)),c=a(198),u=a(208),s=a(199),m=a(209),d=a(39),f=(a(51),a(219),a(8)),p=a.n(f),g=a(201),v=a.n(g),b=a(203),h=a.n(b),E=a(31),y=a.n(E),O=a(202),j=a.n(O),C=a(124),k=a.n(C),w=a(33),x=a.n(w),P=a(85),S=a.n(P),_="http://185.181.8.53:3001/";console.log(_);var N=S.a.create({headers:{"Content-Type":"application/json"}}),I=S.a.create({headers:{"Content-Type":"multipart/form-data"}});a(239);function T(e){var t=e.width,a=void 0===t?200:t,n=e.height,l=void 0===n?200:n,o=e.position;return r.a.createElement("div",{className:p()("spinner","absolute"===o&&"absolute"),style:{width:a,height:l}},"Loading...")}function D(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!0),c=Object(d.a)(i,2),u=c[0],s=c[1];return Object(n.useEffect)(function(){s(!0),N.get(_+"admin/layers").then(function(e){o(e.data),s(!1)})},[]),r.a.createElement(x.a,{className:"Paper-main Layers"},r.a.createElement("h2",null,"Layers"),u&&r.a.createElement(T,null),!u&&r.a.createElement(v.a,null,r.a.createElement(j.a,null,r.a.createElement(k.a,null,r.a.createElement(y.a,null,"Key"),r.a.createElement(y.a,null,"Title"),r.a.createElement(y.a,null,"Z-index"),r.a.createElement(y.a,null,"Colors"),r.a.createElement(y.a,null,"Images quantity"))),r.a.createElement(h.a,null,l.map(function(t){return r.a.createElement(k.a,{className:"table-row",hover:!0,key:t._id,onClick:function(){return e.history.push("layers/"+t._id)}},r.a.createElement(y.a,{component:"th",scope:"row"},t.key),r.a.createElement(y.a,{component:"th",scope:"row"},t.title),r.a.createElement(y.a,{component:"th",scope:"row"},t.zIndex),r.a.createElement(y.a,{component:"th",scope:"row"},t.colors&&t.colors.length?t.colors.map(function(e){return r.a.createElement("div",{className:"color",style:{background:e}})}):"No colors"),r.a.createElement(y.a,{component:"th",scope:"row"},t.images))}))))}a(298);var V=a(123),L=a(37),z=(a(299),a(205)),F=a.n(z),R=a(84),M=a(83),A=a.n(M);function B(e){var t=Object(n.useState)("#ffffff"),a=Object(d.a)(t,2),l=a[0],o=a[1];return r.a.createElement(x.a,{className:"Paper-main Colors"},r.a.createElement("h2",null,"Colors"),e.data&&e.data.colors&&e.data.colors.map(function(t){return r.a.createElement("div",{className:"color",style:{background:t},onClick:function(){(function(e,t){return t=t.replace("#",""),N.delete(_+"admin/layers/"+e+"/colors/"+t)})(e.id,t).then(function(t){e.setImagesData(t.data[0])})}})}),r.a.createElement(R.a,{enableReinitialize:!0,initialValues:{color:"#ffffff"},onSubmit:function(t,a){var n,r,o=a.setSubmitting;(n=e.id,r=l,N.post(_+"admin/layers/"+n+"/colors",{color:r})).then(function(t){o(!1),e.setImagesData(t.data[0])})}},function(e){e.values,e.errors,e.touched;var t=e.isSubmitting,a=(e.handleChange,e.handleSubmit);return r.a.createElement("form",{onSubmit:a},r.a.createElement("p",null,r.a.createElement(F.a,{label:"Add new color",id:"color",name:"color",value:l,onChange:function(e){return o(e)}})),r.a.createElement("p",null,r.a.createElement(A.a,{variant:"contained",type:"submit",color:"primary",disabled:t},"Submit")))}))}a(555);function U(e){return r.a.createElement(x.a,{className:"Paper-main Images"},r.a.createElement("h2",null,"Layer images"),e.isLoading&&r.a.createElement(T,{position:"absolute"}),r.a.createElement("div",null,e.data.images&&e.data.images.map(function(t){return r.a.createElement("div",{className:"image-container"},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:t.value,alt:""})),r.a.createElement("button",{onClick:function(){return e.onImageDelete(t.id)}},"Delete"))})),r.a.createElement(V.a,{onDrop:function(t){return e.onImageSubmit(t)}},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",{className:"container"},r.a.createElement("div",Object.assign({className:"dropzone"},t()),r.a.createElement("input",a()),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}))}a(556);var J=a(59),K=a.n(J);function W(e){var t={key:e.data.key||"",title:e.data.title||"",zIndex:e.data.zIndex||""};return r.a.createElement(x.a,{className:"Paper-main Form"},r.a.createElement("h2",null,"Basic"),r.a.createElement(R.a,{enableReinitialize:!0,initialValues:t,onSubmit:function(t,a){var n,r,l=a.setSubmitting;(n=e.id,r=t,N.patch(_+"admin/layers/"+n,r)).then(function(e){l(!1)})}},function(e){var t=e.values,a=e.errors,n=e.touched,l=e.isSubmitting,o=e.handleChange,i=e.handleSubmit;return r.a.createElement("form",{onSubmit:i},r.a.createElement("div",null,r.a.createElement(K.a,{id:"key",label:"Key",value:t.key,onChange:o,margin:"normal",variant:"outlined",className:a.email&&n.email?"text-input error":"text-input"})),r.a.createElement("div",null,r.a.createElement(K.a,{id:"title",label:"Title",value:t.title,onChange:o,margin:"normal",variant:"outlined",className:a.email&&n.email?"text-input error":"text-input"})),r.a.createElement("div",null,r.a.createElement(K.a,{id:"zIndex",label:"zIndex",value:t.zIndex,onChange:o,margin:"normal",variant:"outlined",className:a.email&&n.email?"text-input error":"text-input"})),a.email&&n.email&&r.a.createElement("div",{className:"input-feedback"},a.email),r.a.createElement(A.a,{variant:"contained",type:"submit",color:"primary",disabled:l},"Submit"))}))}function q(e){var t=Object(n.useState)({}),a=Object(d.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!0),c=Object(d.a)(i,2),u=c[0],s=c[1];return Object(n.useEffect)(function(){var t;s(!0),(t=e.match.params.id,N.get(_+"admin/layers/"+t)).then(function(e){o(e.data[0]),s(!1)})},[e.match.params]),r.a.createElement("div",{className:"LayerItems"},r.a.createElement(L.b,{to:"../"},"Back to Layers"),r.a.createElement(W,{id:e.match.params.id,data:l}),r.a.createElement(B,{id:e.match.params.id,data:l,setImagesData:o}),r.a.createElement(U,{id:e.match.params.id,data:l,onImageDelete:function(t){s(!0),function(e,t){return N.delete(_+"admin/layers/"+e+"/images/"+t)}(e.match.params.id,t).then(function(e){s(!1),o(e.data[0])})},onImageSubmit:function(t){var a=t[0];s(!0),function(e,t){var a=new FormData;return a.append("image",t),a.append("name","image"),I.post(_+"admin/layers/"+e+"/images",a)}(e.match.params.id,a).then(function(e){s(!1),o(e.data[0])})},isLoading:u}))}var Z=a(44),$=(a(564),a(565),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L.a,null,r.a.createElement(Z.a,{path:"/",exact:!0,component:D}),r.a.createElement(Z.a,{path:"/layers/:id",component:q})))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[210,1,2]]]);
//# sourceMappingURL=main.69660d5b.chunk.js.map